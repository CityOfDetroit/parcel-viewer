{"version":3,"sources":["img/logo.png","img/video.png","components/HeaderButton.js","components/AddressSearch.js","components/SectionH3.js","components/DetailsTable.js","components/Details.js","components/Header.js","components/Introduction.js","components/MapHeader.js","components/Map.js","components/StreetView.js","components/Disclaimer.js","ParcelExplorer.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","HeaderButton","_ref","icon","onClick","active","React","createElement","className","FontAwesomeIcon","style","color","AddressSearch","setCoords","setSearch","setParcel","dataSource","setDataSource","useState","value","setValue","hasFocus","setHasFocus","searchField","setSearchField","useHistory","GEOCODER","handleSearch","fetch","then","r","json","d","suggestions","length","text","map","s","suggestAddress","onChange","e","target","onKeyDown","keyCode","console","log","candidates","attributes","location","onSearchSelect","onFocus","onBlur","faWindowClose","SectionH3","children","DetailsTable","parcelData","parcelApiData","mobile","taxpayer_1","taxpayer2","taxpayer_2","taxpayer_address","taxpayer_city","taxpayer_state","taxpayer_zip_code","saledate","moment","sale_date","format","parseInt","amt_sale_price","toLocaleString","pct_pre_claimed","nez","property_class","property_class_description","use_code","use_code_description","zoning_district","num_bldgs","totalfloor","total_floor_area","building_style","local_historic_district","tax_status_description","amt_assessed_value","amt_taxable_value","total_acreage","total_square_footage","depth","frontage","legal_description","Details","parcel","setParcelData","setParcelApiData","loadScreen","setLoadScreen","useEffect","params","where","outFields","outSR","f","queryString","Object","keys","k","encodeURIComponent","join","fetchData","response","features","geojson","parse","geometry","coordinates","centroid","coords","y","x","Fragment","position","top","parcel_id","address","Header","showSearch","showInfo","setInfo","showSv","setSv","showSatellite","setSatellite","src","logo","faInfoCircle","faSearch","faStreetView","faGlobe","IntroPara","Introduction","_ref2","setDisclaimed","localStorage","setItem","faMapMarked","faCalendarAlt","href","MapTitle","MapTitleSection","Map","width","height","svCoords","svBearing","theMap","setTheMap","history","xMin","yMin","xMax","yMax","xCenter","yCenter","mapboxgl","container","satMapStyle","mapStyle","center","zoom","addControl","NavigationControl","showCompass","GeolocateControl","positionOptions","enableHighAccuracy","trackUserLocation","resize","on","results","queryRenderedFeatures","point","layers","currentParcel","parcels","p","properties","currentIndex","findIndex","candidateParcel","nextParcel","push","loadImage","videoIcon","error","image","addImage","setFilter","getSource","setData","type","lon","lat","bearing","setStyle","easeTo","setLayoutProperty","id","clientid","fetchImageKey","lnglat","lng","markerStyle","ballColor","ballOpacity","opacity","interactive","radius","StreetView","setSvBearing","setSvCoords","mapillary","setMapillary","loading","setLoading","currentCoords","setCurrentCoords","currentKey","setCurrentKey","imageKeys","setImageKeys","mapillaryView","Mapillary","component","cover","marker","sequence","cache","attribution","n","latLon","b","sequences","forEach","ik","captured_at","slice","indexOf","sorted","sort","a","moveToKey","key","node","mly","start","end","fullPano","nodeBearing","computedCA","desiredBearing","min","max","interval","wrap","bearingToBasic","setCenter","setBearing","defaultMarker","SimpleMarker","getComponent","add","filter","i","Disclaimer","handleAcceptance","SidebarFooter","gridArea","Date","getFullYear","faGithub","ParcelExplorer","pid","useParams","setWidth","window","innerWidth","setHeight","innerHeight","setMobile","setMap","getItem","handleWindowResize","addEventListener","removeEventListener","disclaimed","intro","setIntro","App","Router","basename","Analytics","debug","Switch","Route","path","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"0omQAAAA,EAAOC,QAAU,IAA0B,kC,iBCA3CD,EAAOC,QAAU,0Y,sNCGV,MAAMC,EAAeC,IAAA,IAAC,KAAEC,EAAI,QAAEC,EAAO,OAAEC,GAAO,GAAOH,EAAA,OAC1DI,IAAAC,cAAA,UAAQC,UAAW,uEAAwEJ,QAASA,GAClGE,IAAAC,cAACE,IAAe,CAACN,KAAMA,EAAMO,MAAOL,EAAS,CAACM,MAAO,SAAW,CAACA,MAAO,wBCoF7DC,MAlFf,SAAsBV,GAAuC,IAAtC,UAAEW,EAAS,UAAEC,EAAS,UAAEC,GAAWb,EACxD,MAAOc,EAAYC,GAAiBC,mBAAS,KACtCC,EAAOC,GAAYF,mBAAS,KAC5BG,EAAUC,GAAeJ,oBAAS,IAClCK,EAAaC,GAAkBN,mBAAS,WACjCO,cAEd,MAAMC,EAAW,+FAYXC,EAAgBR,IAVEA,KACR,KAAVA,GACFS,MAAM,GAAGF,kBAAyBP,aAC/BU,KAAMC,GAAMA,EAAEC,QACdF,KAAMG,IACLA,EAAEC,YAAYC,OAAS,EAAIjB,EAAc,CAAEkB,KAAMhB,IAAWF,EAAce,EAAEC,YAAYG,IAAKC,GAAMA,EAAEF,UAM3GG,CAAenB,GACfC,EAASD,IAsBX,OACEb,IAAAC,cAAA,WAASC,UAAWa,EAAW,oEAAsE,qEAEnGf,IAAAC,cAAA,OAAKC,UAAU,qBACbF,IAAAC,cAAA,SACEC,UAAU,kJACV+B,SAAWC,GAAuB,YAAhBjB,EAA4BI,EAAaa,EAAEC,OAAOtB,OAASJ,EAAU,MACvF2B,UAAYF,GAAoB,KAAdA,EAAEG,UAAmC,YAAhBpB,EA1BvBJ,KAEtBS,MADY,GAAGF,sCAA6CP,oCAEzDU,KAAMC,GAAMA,EAAEC,QACdF,KAAMG,IAEL,GADAY,QAAQC,IAAIb,GACRA,EAAEc,WAAWZ,OAAS,EAAG,CAC3B,IAAI,WAAEa,EAAU,SAAEC,GAAahB,EAAEc,WAAW,GACxCC,EAAsB,UACxBhC,EAAUgC,EAAsB,YAEhCH,QAAQC,IAAI,cACZ9B,EAAU,OAEZF,EAAUmC,OAYyDC,CAAe9B,GAASJ,EAAUyB,EAAEC,OAAOtB,QAE9G+B,QAAUV,IACRI,QAAQC,IAAIL,GACZlB,GAAY,IAEd6B,OAASX,IACPI,QAAQC,IAAIL,GACZlB,GAAY,MAGRhB,IAAAC,cAACN,EAAY,CACnBE,KAAMiD,IACNhD,QAASA,KAAQU,GAAU,IAG3BN,UAAU,UAGdF,IAAAC,cAAA,OAAKC,UAAU,qCACbF,IAAAC,cAAA,OAAKC,UAAU,qBACfF,IAAAC,cAAA,SAAOC,UAAW,+CAA+C,cACjEF,IAAAC,cAAA,UAAQgC,SAAWC,GAAMhB,EAAegB,EAAEC,OAAOtB,QAC/Cb,IAAAC,cAAA,UAAQY,MAAM,UAAUX,UAAU,OAAM,WACxCF,IAAAC,cAAA,UAAQY,MAAM,aAAY,kB,iCC3ErBkC,MAJGnD,IAAmB,IAAlB,SAAEoD,GAAUpD,EAC7B,OAAOI,IAAAC,cAAA,MAAIC,UAAU,eAAe8C,ICsJvBC,MApJf,SAAqBrD,GAAyC,IAAxC,WAAEsD,EAAU,cAAEC,EAAa,OAAEC,GAAQxD,EACrD8B,EAAIwB,EAGR,OADAZ,QAAQC,IAAIb,GAEV1B,IAAAC,cAAA,WAASC,UAAU,6CACjBF,IAAAC,cAAA,WAASC,UAAU,mBACjBF,IAAAC,cAAC8C,EAAS,KAAC,aACX/C,IAAAC,cAAA,SAAOC,UAAU,kBACfF,IAAAC,cAAA,aACED,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,YACJD,IAAAC,cAAA,UAAKyB,EAAE2B,aAER3B,EAAE4B,WACDtD,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,uBACJD,IAAAC,cAAA,UAAKyB,EAAE6B,aAGXvD,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,oBACJD,IAAAC,cAAA,UAAK,GAAGyB,EAAE8B,qBAAqB9B,EAAE+B,kBAAkB/B,EAAEgC,mBAAmBhC,EAAEiC,sBAE3EjC,EAAEkC,UACD5D,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,kBACJD,IAAAC,cAAA,UAAK4D,IAAOnC,EAAEoC,WAAWC,OAAO,QAGnCrC,EAAEkC,UACD5D,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,mBACJD,IAAAC,cAAA,UAAK,IAAI+D,SAAStC,EAAEuC,gBAAgBC,mBAGxClE,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,SACJD,IAAAC,cAAA,UAAKyB,EAAEyC,kBAEE,KAAVzC,EAAE0C,KACDpE,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,OACJD,IAAAC,cAAA,UAAKyB,EAAE0C,SAMjBpE,IAAAC,cAAA,WAASC,UAAU,mBACjBF,IAAAC,cAAC8C,EAAS,KAAC,0BACX/C,IAAAC,cAAA,SAAOC,UAAU,kBACfF,IAAAC,cAAA,aASED,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,kBACJD,IAAAC,cAAA,UACGyB,EAAE2C,eAAe,MAAI3C,EAAE4C,6BAG5BtE,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,gBACJD,IAAAC,cAAA,UACGyB,EAAE6C,SAAS,MAAI7C,EAAE8C,uBAGtBxE,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,UACJD,IAAAC,cAAA,UAAKyB,EAAE+C,kBAETzE,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,kBACJD,IAAAC,cAAA,UAAKyB,EAAEgD,YAERhD,EAAEiD,YACD3E,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,yBACJD,IAAAC,cAAA,UAAKyB,EAAEkD,mBAGVlD,EAAEtB,OACDJ,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,SACJD,IAAAC,cAAA,UAAKyB,EAAEmD,iBAGX7E,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,wBACJD,IAAAC,cAAA,UAAKyB,EAAEoD,6BAKf9E,IAAAC,cAAA,WAASC,UAAU,mBACjBF,IAAAC,cAAC8C,EAAS,KAAC,YACX/C,IAAAC,cAAA,SAAOC,UAAU,kBACfF,IAAAC,cAAA,aACED,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,cACJD,IAAAC,cAAA,UAAKyB,EAAEqD,yBAET/E,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,kBACJD,IAAAC,cAAA,UAAK,IAAI+D,SAAStC,EAAEsD,oBAAoBd,mBAE1ClE,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,iBACJD,IAAAC,cAAA,UAAK,IAAI+D,SAAStC,EAAEuD,mBAAmBf,sBAK/ClE,IAAAC,cAAA,WAASC,UAAU,mBACjBF,IAAAC,cAAC8C,EAAS,KAAC,cACX/C,IAAAC,cAAA,SAAOC,UAAU,kBACfF,IAAAC,cAAA,aACED,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,iBACJD,IAAAC,cAAA,UAAKyB,EAAEwD,cAAc,QAEvBlF,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,wBACJD,IAAAC,cAAA,UAAKyB,EAAEyD,qBAAqB,QAE9BnF,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,yBACJD,IAAAC,cAAA,UACGyB,EAAE0D,MAAM,MAAI1D,EAAE2D,cAMzBrF,IAAAC,cAAA,WAASC,UAAU,mBACjBF,IAAAC,cAAC8C,EAAS,KAAC,qBACX/C,IAAAC,cAAA,KAAGC,UAAU,kEAAkEwB,EAAE4D,sBC7D1EC,MA/EC3F,IAA8C,IAA7C,OAAE4F,EAAM,UAAEjF,EAAS,OAAE6C,EAAM,SAAEJ,GAAUpD,GACjDsD,EAAYuC,GAAiB7E,mBAAS,OACtCuC,EAAeuC,GAAoB9E,mBAAS,MACjD,MAAO+E,EAAYC,GAAiBhF,oBAAS,GAgD7C,OAzBAiF,oBAAU,KACRD,GAAc,GArBGJ,KAEjB,IAAIM,EAAS,CACXC,MAAO,cAAcP,KACrBQ,UAAW,IACXC,MAAO,KACPC,EAAG,QAODC,EAAcC,OAAOC,KAAKP,GAC3BhE,IAAKwE,GAAM,GAAGA,KAAKC,mBAAmBT,EAAOQ,OAC7CE,KAAK,KAER,OAAOlF,MAPG,gHAOS6E,IAKnBM,CAAUjB,GACPjE,KAAMmF,GAAaA,EAASjF,QAC5BF,KAAMG,IACD,GAAGA,EAAEiF,SAAS/E,OAAS,EAAG,CACxB,IAAIgF,EAAUC,gBAAMnF,EAAEiF,SAAS,GAAGG,UAC9BC,EAAcC,YAASJ,GAASE,SAASC,YACzCE,EAAS,CACXC,EAAGH,EAAY,GACfI,EAAGJ,EAAY,IAEjBxG,EAAU0G,GACV3E,QAAQC,IAAI,oBAAqBb,EAAEiF,SAAS,IAC5ClB,EAAc/D,EAAEiF,SAAS,IACzBf,GAAc,QAGdtD,QAAQC,IAAI,oBACZkD,EAAc,MACdG,GAAc,MAGvB,CAACJ,IAGFxF,IAAAC,cAAA,WAASC,UAAW,OACjBgD,EACClD,IAAAC,cAAAD,IAAAoH,SAAA,KACIpH,IAAAC,cAAA,SAAOC,UAAU,mBAAmBE,MAAO,CAAEiH,SAAU,SAAUC,IAAK,IACpEtH,IAAAC,cAAA,aACED,IAAAC,cAAA,MAAIC,UAAU,IACZF,IAAAC,cAAA,UAAI,cAAYiD,EAAWT,WAAW8E,WACtCvH,IAAAC,cAAA,UAAI,YACOD,IAAAC,cAAA,SAAIiD,EAAWT,WAAW+E,aAK7CxH,IAAAC,cAACgD,EAAY,CAACC,WAAYA,EAAWT,WAAYU,cAAeA,EAAeC,OAAQA,KAGzFpD,IAAAC,cAAAD,IAAAoH,SAAA,KACApH,IAAAC,cAAA,OAAKC,UAAU,eAAc,iDACoBsF,GAEhDxC,K,iBC9CMyE,MA3BA7H,IAAiH,IAAhH,WAAE8H,EAAU,UAAElH,EAAS,SAAEmH,EAAQ,QAAEC,EAAO,OAAEC,EAAM,MAAEC,EAAK,cAAEC,EAAa,aAAEC,EAAY,OAAE5E,EAAM,SAAEJ,GAAUpD,EACxH,OACEI,IAAAC,cAAA,cACED,IAAAC,cAAA,OAAKC,UAAU,+BACbF,IAAAC,cAAA,OAAKgI,IAAKC,IAAMhI,UAAU,SAC1BF,IAAAC,cAAA,MAAIC,UAAU,uBAAsB,kBAEtCF,IAAAC,cAAA,OAAKC,UAAU,sCACbF,IAAAC,cAACN,EAAY,CAACE,KAAMsI,IAAcpI,OAAQ4H,EAAU7H,QAASA,KAAO8H,GAASD,MAC7E3H,IAAAC,cAACN,EAAY,CAACE,KAAMuI,IAAUrI,OAAQ2H,EAAY5H,QAASA,KAAOU,GAAWkH,MAC7E1H,IAAAC,cAACN,EAAY,CAACE,KAAMwI,IAActI,OAAQ8H,EAAQ/H,QAASA,KAAOgI,GAAOD,MACzE7H,IAAAC,cAACN,EAAY,CAACE,KAAMyI,IAASvI,OAAQgI,EAAejI,QAASA,KAAOkI,GAAcD,OAUpF/H,IAAAC,cAAA,WAASC,UAAU,oBAChB8C,KCfT,MAAMuF,EAAY3I,IAAmB,IAAlB,SAAEoD,GAAUpD,EAC7B,OAAOI,IAAAC,cAAA,KAAGC,UAAU,gBAAgB8C,IAwEvBwF,MArEMC,IAA2C,IAA1C,QAAEb,EAAO,SAAED,EAAQ,cAAEe,GAAeD,EACxD,OACEzI,IAAAC,cAAA,WAASC,UAAU,oFACjBF,IAAAC,cAAA,OAAKC,UAAU,+CACbF,IAAAC,cAAA,MAAIC,UAAU,WAAU,oCACxBF,IAAAC,cAACN,EAAY,CACXE,KAAMiD,IACNhD,QAASA,KACP6I,aAAaC,QAAQ,YAAY,GACjChB,GAASD,OAIf3H,IAAAC,cAACsI,EAAS,KAAC,6FAIXvI,IAAAC,cAACsI,EAAS,KAAC,uDACXvI,IAAAC,cAAA,MAAIC,UAAU,2CACZF,IAAAC,cAAA,UACED,IAAAC,cAAA,SAAG,UACHD,IAAAC,cAACE,IAAe,CAACN,KAAMuI,IAAUlI,UAAU,SAAS,0DAGtDF,IAAAC,cAAA,UAAI,yBACoBD,IAAAC,cAAA,SAAG,OACzBD,IAAAC,cAACE,IAAe,CAACN,KAAMgJ,IAAa3I,UAAU,WAGlDF,IAAAC,cAACsI,EAAS,KAAC,0BACcvI,IAAAC,cAAA,SAAG,eAC1BD,IAAAC,cAACE,IAAe,CAACN,KAAMwI,IAAcnI,UAAU,SAAS,wCAG1DF,IAAAC,cAAA,MAAIC,UAAU,2CACZF,IAAAC,cAAA,UAAI,oCAC+BD,IAAAC,cAAA,SAAG,iBACpCD,IAAAC,cAACE,IAAe,CAACN,KAAMiJ,IAAe5I,UAAU,SAAS,0BAI7DF,IAAAC,cAACsI,EAAS,KAAC,4CACgCvI,IAAAC,cAAA,SAAG,qBAC5CD,IAAAC,cAACE,IAAe,CAACN,KAAMyI,IAASpI,UAAU,UAE5CF,IAAAC,cAACsI,EAAS,KAAC,uEAC4D,IACrEvI,IAAAC,cAAA,KACE8I,KAAK,yCACL7I,UAAU,+CACX,iBAEI,IAAI,mBACQ,IACjBF,IAAAC,cAAA,KACE8I,KAAK,wDACL7I,UAAU,+CACX,gBAEG,KAGNF,IAAAC,cAAA,UAAQC,UAAU,8CAA8CJ,QAASA,IAAM4I,GAAc,IAAS,0B,0DC5E5G,MAAMM,EAAWpJ,IAAA,IAAC,KAAEC,EAAI,SAAEmD,GAAUpD,EAAA,OAClCI,IAAAC,cAAA,OAAKC,UAAU,0BACbF,IAAAC,cAACE,IAAe,CAACN,KAAMA,EAAMK,UAAU,iBACvCF,IAAAC,cAAA,MAAIC,UAAU,kCAAkC8C,KAI9CiG,EAAkBR,IAAA,IAAC,SAAEzF,GAAUyF,EAAA,OACnCzI,IAAAC,cAAA,OAAKC,UAAU,oGAAoG8C,ICgLtGkG,MAhLHtJ,IAWL,IAXM,OACX4F,EAAM,UACN/E,EAAS,OACTwG,EAAM,MACNkC,EAAK,OACLC,EAAM,SACNpG,EAAQ,SACRqG,EAAQ,UACRC,EAAS,OACTzB,EAAM,cACNE,GACDnI,EACC,MAAO2J,EAAQC,GAAa5I,mBAAS,MACrC,IAAI6I,EAAUtI,eAETuI,EAAMC,EAAMC,EAAMC,GAAQ,EAAE,UAAW,WAAY,UAAW,UAC/DC,GAAWJ,EAAOE,GAAQ,EAC1BG,GAAWJ,EAAOE,GAAQ,EAqJ9B,OAnJAhE,oBAAU,KACR,IAAI/D,EAAM,IAAIkI,IAASd,IAAI,CACzBe,UAAW,MACX7J,MAAO2H,EAAgBmC,EAAcC,EACrCC,OAAQnD,EAAS,CAACA,EAAOC,EAAGD,EAAOE,GAAK,CAAC2C,EAASC,GAClDM,KAAM,KAGRvI,EAAIwI,WACF,IAAIN,IAASO,kBAAkB,CAC7BC,aAAa,IAEf,eAIF1I,EAAIwI,WACF,IAAIN,IAASS,iBAAiB,CAC5BC,gBAAiB,CACfC,oBAAoB,GAEtBC,mBAAmB,IAErB,eAEF9I,EAAI+I,SAEJ/I,EAAIgJ,GAAG,OAAQ,KACbtB,EAAU1H,GACVA,EAAIgJ,GAAG,QAAS,gBAAgB,SAAU5I,GACxC,IAAI6I,EAAUjJ,EAAIkJ,sBAAsB9I,EAAE+I,MAAO,CAC/CC,OAAQ,CAAC,kBAEX5I,QAAQC,IAAIwI,GAGZtK,EAAW0K,IACT,MAAMC,EAAUL,EAAQjJ,IAAKuJ,GAAMA,EAAEC,WAAW/D,WAC1CgE,EAAeH,EAAQI,UAC1BC,GAAoBA,IAAoBN,GAGrCO,EAAaN,GADAG,EAAe,GAAKR,EAAQnJ,QAI/C,OADA6H,EAAQkC,KAAK,IAAID,MACVA,SAOb5J,EAAIgJ,GAAG,aAAc,KACnBhJ,EAAI8J,UAAUC,IAAW,CAACC,EAAOC,KAC/B,GAAID,EAAO,MAAMA,EACjBhK,EAAIkK,SAAS,QAASD,GACtBjK,EAAImK,UAAU,oBAAqB,CACjC,KACA,YACAzG,GAAkB,KAEpB6D,GACEvH,EAAIoK,UAAU,aAAaC,QAAQ,CACjCC,KAAM,oBAENzF,SAAU,CACR,CACEyF,KAAM,UACNtF,SAAU,CACRsF,KAAM,QACNrF,YAAa,CAACsC,EAASgD,IAAKhD,EAASiD,MAEvChB,WAAY,CACViB,QAASjD,EAAY,aAOlC,IAEHzD,oBAAU,KACJ0D,GAAUxB,GACZwB,EAAOiD,SAAStC,GAEdX,IAAWxB,GACbwB,EAAOiD,SAASrC,IAEjB,CAACpC,IAGJlC,oBAAU,KACR0D,GACEA,EAAO0C,UAAU,oBAAqB,CACpC,KACA,YACAzG,GAAkB,MAErB,CAACA,EAAQ+D,IAGZ1D,oBAAU,KACR0D,GAAUtC,GAAUsC,EAAOkD,OAAO,CAACrC,OAAQ,CAACnD,EAAOE,EAAGF,EAAOC,GAAImD,KAAM,MACtE,CAACpD,EAAQsC,IAEZ1D,oBAAU,KACR0D,GAAUA,EAAOsB,UAChB,CAAC1B,EAAOC,IAEXvD,oBAAU,KACJ0D,GAAU1B,GACZ0B,EAAOmD,kBAAkB,qBAAsB,aAAc,WAE3DnD,IAAW1B,GACb0B,EAAOmD,kBAAkB,qBAAsB,aAAc,SAE9D,CAAC7E,IAEJhC,oBAAU,KACRvD,QAAQC,IAAI8G,EAAUC,GACtBC,GACE1B,GACA0B,EAAO2C,UAAU,aAAaC,QAAQ,CACpCC,KAAM,oBAENzF,SAAU,CACR,CACEyF,KAAM,UACNtF,SAAU,CACRsF,KAAM,QACNrF,YAAa,CAACsC,EAASgD,IAAKhD,EAASiD,MAEvChB,WAAY,CACViB,QAASjD,EAAY,QAK3BC,IAAW1B,GACb0B,EAAO2C,UAAU,aAAaC,QAAQ,CACpCC,KAAM,oBACNzF,SAAU,MAGb,CAAC0C,EAAUC,IAGZtJ,IAAAC,cAAA,WAAS0M,GAAG,MAAMzM,UAAW,8BAC3BF,IAAAC,cAACgJ,EAAe,KACdjJ,IAAAC,cAAC+I,EAAQ,CAACnJ,KAAMgJ,KAAa,OAC5B7F,K,gBC5KT,IAAI4J,EAAW,uDAiEf,MAAMC,EAAiB5F,IACrB,IAAI6F,EAQJ,OAPI7F,EAAO8F,KAAO9F,EAAOqF,MACvBQ,EAAS,GAAG7F,EAAO8F,OAAO9F,EAAOqF,OAE/BrF,EAAOE,GAAKF,EAAOC,IACrB4F,EAAS,GAAG7F,EAAOE,KAAKF,EAAOC,KAG1B5F,MADG,+CAA+CsL,aAAoBE,sDAC3DvL,KAAMC,GAAMA,EAAEC,SAGlC,IAAIuL,EAAc,CAChBC,UAAW,QACXC,YAAa,GACb7M,MAAO,UACP8M,QAAS,IACTC,aAAa,EACbC,OAAQ,GAiHKC,MA9GI1N,IAAqE,IAApE,OAAEqH,EAAM,MAAEkC,EAAK,OAAEC,EAAM,aAAEmE,EAAY,YAAEC,EAAW,SAAExK,GAAUpD,EAEhF,MAAO6N,EAAWC,GAAgB9M,mBAAS,OACpC+M,EAASC,GAAchN,oBAAS,IAChCiN,EAAeC,GAAoBlN,mBAAS,OAC5CmN,EAAYC,GAAiBpN,mBAAS,OACtCqN,EAAWC,GAAgBtN,mBAAS,MA8E3C,OA3EAiF,oBAAU,KACR,IAAIsI,EAAgB,IAAIC,SAAiB,MAAOxB,EAAU,KAAM,CAC9DyB,UAAW,CACTC,OAAO,EACPC,QAAQ,EACRC,UAAU,EACVC,OAAO,EACPC,aAAa,KAKjBhB,EAAaS,GAEbA,EAAcrD,GAAG,cAAgB6D,IAC/BnB,EAAYmB,EAAEC,UAGhBT,EAAcrD,GAAG,iBAAmB+D,IAClCtB,EAAasB,KAGX5H,IAAW4G,IACbC,EAAiB7G,GACjB4F,EAAc5F,GAAQ1F,KAAMG,IAC1B,IAAIoN,EAAY,GAChBpN,EAAEiF,SAASoI,QAASC,KACmG,IAAjHF,EAAUhN,IAAKC,GAAMA,EAAEuJ,WAAW2D,YAAYC,MAAM,EAAG,KAAKC,QAAQH,EAAG1D,WAAW2D,YAAYC,MAAM,EAAG,MACzGJ,EAAUnD,KAAKqD,KAGnB,IAAII,EAASN,EAAUO,KAAK,CAACC,EAAGT,IAAMhL,IAAOyL,EAAEhE,WAAW2D,aAAepL,IAAOgL,EAAEvD,WAAW2D,cAC7Ff,EAAakB,GACbpB,EAAcoB,EAAOA,EAAOxN,OAAS,QAGxC,IAEHiE,oBAAU,KACR+H,GAAW,GACXH,GACEM,GACAN,EAAU8B,UAAUxB,EAAWzC,WAAWkE,KAAKjO,KAAMkO,KA9F3D,SAAoBA,EAAMC,EAAKC,EAAOC,GACpC,GAAKH,EAAKI,SAAV,CAIA,IAAIC,EAAcL,EAAKM,WASnB3F,EAAS,CAhCf,SAAwB4F,EAAgBF,GAYtC,OAhCF,SAAcjP,EAAOoP,EAAKC,GAGxB,IAFA,IAAIC,EAAWD,EAAMD,EAEdpP,EAAQqP,GAAOrP,EAAQoP,GACxBpP,EAAQqP,EACVrP,GAAgBsP,EACPtP,EAAQoP,IACjBpP,GAAgBsP,GAIpB,OAAOtP,EAqBAuP,EALMJ,EAAiBF,GAAe,IAAM,GAKhC,EAAG,GAiBTO,CADQ9D,YAAQoD,EAAOC,GACQE,GAC/B,KAIbJ,EAAIY,UAAUlG,IA+ERmG,CAAWd,EAAMhC,EAAWM,EAAWjH,SAASC,YAAa,CAACE,EAAO8F,KAAO9F,EAAOE,EAAGF,EAAOqF,KAAOrF,EAAOC,IAC3G0G,GAAW,MAEd,CAACG,EAAYN,IAEhB5H,oBAAU,KACR,GAAI4H,EAAW,CACbG,GAAW,GACXM,EAAa,MACb,IAAIsC,EAAgB,IAAIpC,kBAA0BqC,aAAa,aAAc,CAAEnE,IAAKrF,EAAOC,EAAGmF,IAAKpF,EAAOE,GAAK6F,GACzFS,EAAUiD,aAAa,UAC7BC,IAAI,CAACH,IACrB3D,EAAc5F,GAAQ1F,KAAMG,IAC1B,IAAIoN,EAAY,GAChBpN,EAAEiF,SAASoI,QAASC,KACmG,IAAjHF,EAAUhN,IAAKC,GAAMA,EAAEuJ,WAAW2D,YAAYC,MAAM,EAAG,KAAKC,QAAQH,EAAG1D,WAAW2D,YAAYC,MAAM,EAAG,MACzGJ,EAAUnD,KAAKqD,KAGnB,IAAII,EAASN,EAAUO,KAAK,CAACC,EAAGT,IAAMhL,IAAOyL,EAAEhE,WAAW2D,aAAepL,IAAOgL,EAAEvD,WAAW2D,cAC7Ff,EAAakB,GACbpB,EAAcoB,EAAOA,EAAOxN,OAAS,QAGxC,CAACqF,EAAQwG,IAEZ5H,oBAAU,KACJ4H,GACFA,EAAU5C,UAEX,CAAC1B,EAAOC,IAGTpJ,IAAAC,cAAA,WAAS0M,GAAG,MAAMzM,UAAU,iCAC1BF,IAAAC,cAACgJ,EAAe,KACdjJ,IAAAC,cAAC+I,EAAQ,CAACnJ,KAAMwI,KAAesF,EAAU,qBAAuB,eAC/DM,GAAaF,GACZ/N,IAAAC,cAAA,OAAKC,UAAU,qBACbF,IAAAC,cAACE,IAAe,CAACN,KAAMiJ,IAAe5I,UAAU,iBAChDF,IAAAC,cAAA,UACEC,UAAU,8KACVW,MAAOgD,IAAOkK,EAAWzC,WAAW2D,aAAalL,OAAO,MACxD9B,SAAWC,IACT8L,EAAcC,EAAU2C,OAAQ7O,GAAM8B,IAAO9B,EAAEuJ,WAAW2D,aAAalL,OAAO,QAAU7B,EAAEC,OAAOtB,OAAO,MAGzGoN,EAAUnM,IAAI,CAACC,EAAG8O,IACjB7Q,IAAAC,cAAA,UAAQuP,IAAKzN,EAAEuJ,WAAWkE,KAAM3L,IAAO9B,EAAEuJ,WAAW2D,aAAalL,OAAO,SAG3Ef,M,QC/BE8N,MApKIlR,IAAwB,IAAvB,cAAE8I,GAAe9I,EAMnC,OACEI,IAAAC,cAAA,OAAKC,UAAU,0DACbF,IAAAC,cAAA,MAAIC,UAAU,QAAO,mBAErBF,IAAAC,cAAA,WACED,IAAAC,cAAA,UAAI,qBACJD,IAAAC,cAAA,SAAG,4gBAWHD,IAAAC,cAAA,SAAG,kfAWHD,IAAAC,cAAA,SAAG,snBAaHD,IAAAC,cAAA,SAAG,gXASHD,IAAAC,cAAA,SAAG,6aAWLD,IAAAC,cAAA,WACED,IAAAC,cAAA,UAAI,sBAEJD,IAAAC,cAAA,SAAG,oeAWHD,IAAAC,cAAA,SAAG,gHAKHD,IAAAC,cAAA,MAAIC,UAAU,8BACZF,IAAAC,cAAA,UAAI,6MAKJD,IAAAC,cAAA,UAAI,uKAKJD,IAAAC,cAAA,UAAI,6DACJD,IAAAC,cAAA,UAAI,kPAMJD,IAAAC,cAAA,UAAI,2FAIJD,IAAAC,cAAA,UAAI,4MAKJD,IAAAC,cAAA,UAAI,wIAIJD,IAAAC,cAAA,UAAI,8NAQND,IAAAC,cAAA,SAAG,mQAQLD,IAAAC,cAAA,WACED,IAAAC,cAAA,UAAI,gBAEJD,IAAAC,cAAA,SAAG,0QAOLD,IAAAC,cAAA,WACED,IAAAC,cAAA,UAAI,uBAEJD,IAAAC,cAAA,SAAG,sNAQLD,IAAAC,cAAA,UACEH,QA1JmBiR,KACvBpI,aAAaC,QAAQ,cAAc,GACnCF,GAAc,IAyJVxI,UAAU,iFACX,8DC/IP,MAAM8Q,EAAgBA,IAElBhR,IAAAC,cAAA,OAAKC,UAAU,6DAA6DE,MAAO,CAAC6Q,SAAU,MAC5FjR,IAAAC,cAAA,YAAM,qBAAkB,IAAIiR,MAAOC,cAAc,KAAEnR,IAAAC,cAAA,KAAG8I,KAAK,yCAAyC7I,UAAU,+CAA8C,kBAC5JF,IAAAC,cAAA,KAAG8I,KAAK,uDAAsD/I,IAAAC,cAACE,IAAe,CAACN,KAAMuR,QAyF5EC,MA5DQA,KAErB,IAAI,IAAEC,GAAQC,cAGd,MACOpI,EAAOqI,GAAY5Q,mBAAS6Q,OAAOC,aACnCtI,EAAQuI,GAAa/Q,mBAAS6Q,OAAOG,cACrCxO,EAAQyO,GAAajR,mBAASuI,EAHlB,MAMZ3D,EAAQ/E,GAAaG,mBAAS0Q,GAAY,OAC1CrK,EAAQ1G,GAAaK,mBAAS,OAC9BkB,EAAKgQ,GAAUlR,oBAAS,IACxBiH,EAAQC,GAASlH,oBAAS,IAC1ByI,EAAUmE,GAAe5M,mBAAS,OAClC0I,EAAWiE,GAAgB3M,mBAAS,OACpC+G,EAAUC,GAAWhH,mBAAS+H,aAAaoJ,QAAQ,cAAe,IAClErK,EAAYlH,GAAaI,oBAASwC,IAClC2E,EAAeC,GAAgBpH,oBAAS,GAG/CiF,oBAAU,KACR,MAAMmM,EAAqBA,KACzBR,EAASC,OAAOC,YAChBC,EAAUF,OAAOG,aACjBC,EAAUJ,OAAOC,WArBF,MAwBjB,OADAD,OAAOQ,iBAAiB,SAAUD,GAC3B,IAAMP,OAAOS,oBAAoB,SAAUF,IACjD,IAEH,IAAKG,EAAYzJ,GAAiB9H,mBAAS+H,aAAaoJ,QAAQ,gBAAiB,IAC5EK,EAAOC,GAAYzR,mBAAS+H,aAAaoJ,QAAQ,WAAY,GAElE,OACGI,EACDnS,IAAAC,cAAA,OAAKC,UAAYkD,EAAiB,YAAR,OACxBpD,IAAAC,cAACwH,EAAM,CAAMjH,YAAWkH,aAAYC,WAAUC,UAASnH,YAAWoH,SAAQC,QAAOC,gBAAeC,eAAc5E,UAE3GuE,GAAY3H,IAAAC,cAACuI,EAAY,CAAMZ,UAASD,WAAUwK,aAAYzJ,kBAC9DhB,GAAc1H,IAAAC,cAACK,EAAa,CAAOkF,SAAQ/E,YAAWF,YAAWC,YAAWkH,gBAE/E1H,IAAAC,cAAA,OAAK0M,GAAG,WACP9E,GACC7H,IAAAC,cAACqN,EAAU,CAAOrG,SAAQkC,QAAOC,SAAQmE,eAAcC,gBAEtDhI,GAAUxF,IAAAC,cAACsF,EAAO,CAAOC,SAAQjF,YAAW6C,YAE/CpD,IAAAC,cAAC+Q,EAAa,MACdhR,IAAAC,cAAA,OAAKC,UAAU,aACZkD,GAAUtB,IAASsB,IACpBpD,IAAAC,cAACiJ,EAAG,CAAO1D,SAAQ/E,YAAW0I,QAAOlC,SAAQoC,WAAUC,YAAWzB,SAAQE,oBAhBhE/H,IAAAC,cAAC6Q,EAAU,CAAMpI,mBC1EpB,SAAS4J,IACtB,OAEEtS,IAAAC,cAACsS,gBAAM,CAACC,SAAS,kBACXxS,IAAAC,cAACwS,IAAS,CAAC9F,GANF,iBAMkB+F,OAAK,GAIlC1S,IAAAC,cAAC0S,IAAM,KACL3S,IAAAC,cAAC2S,IAAK,CAACC,KAAK,QAAQ7P,SAAUhD,IAAAC,cAACoR,EAAc,QAC7CrR,IAAAC,cAAC2S,IAAK,CAACC,KAAK,KACV7S,IAAAC,cAACoR,EAAc,UCVPyB,QACW,cAA7BrB,OAAO/O,SAASqQ,UAEe,UAA7BtB,OAAO/O,SAASqQ,UAEhBtB,OAAO/O,SAASqQ,SAASC,MACvB,2DCVNC,IAASC,OAAOlT,IAAAC,cAACqS,EAAG,MAAKa,SAASC,eAAe,SDyH3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMhS,KAAKiS,IACjCA,EAAaC,iB","file":"static/js/main.e3ddcaf7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c5600d7e.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAABmJLR0QA/wD/AP+gvaeTAAAAyElEQVQ4je3Uv2rCYBSG8Z+ZRMeCzm7q0qIXUARvyandejneQqF2rXuCo4vUQQcxOHRIhyYgIeKf1ElfOJzh5Xs4fMPDPWkq6e7iFY+oHnmzxgRv2BT0LTxBHzskZ06IWg7axTd+4OMCaDajAmjW2ZYAjw9AkwD1oo88MXW08Y7mflHJzr4wER7QyBdlwQcTXAN6m+AQy2uA53jGoggclwDHmGEod3mAaQnwV7ojDPLwnv+TUEcqoX1tvvjT3TFtrvDpBG3eA34BrIhd+y4+5nkAAAAASUVORK5CYII=\"","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\n\nexport const HeaderButton = ({ icon, onClick, active=false }) => (\n  <button className={`text-lg hover:bg-gray-400 py-2 px-3 rounded inline-flex items-center`} onClick={onClick}>\n    <FontAwesomeIcon icon={icon} style={active ? {color: 'black'} : {color: 'rgba(0,0,0,0.25)'}}/>\n  </button>\n);\n","import { faExchangeAlt, faSearch, faWindowClose } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { HeaderButton } from \"./HeaderButton\";\n\nfunction AddressSearch({ setCoords, setSearch, setParcel }) {\n  const [dataSource, setDataSource] = useState([]);\n  const [value, setValue] = useState(\"\");\n  const [hasFocus, setHasFocus] = useState(false);\n  const [searchField, setSearchField] = useState(\"address\");\n  let history = useHistory();\n\n  const GEOCODER = `https://opengis.detroitmi.gov/opengis/rest/services/BaseUnits/BaseUnitGeocoder/GeocodeServer`\n\n  const suggestAddress = (value) => {\n    if (value !== \"\") {\n      fetch(`${GEOCODER}/suggest?text=${value}&f=pjson`)\n        .then((r) => r.json())\n        .then((d) => {\n          d.suggestions.length < 1 ? setDataSource({ text: value }) : setDataSource(d.suggestions.map((s) => s.text));\n        });\n    }\n  };\n\n  const handleSearch = (value) => {\n    suggestAddress(value);\n    setValue(value);\n  };\n\n  const onSearchSelect = (value) => {\n    const url = `${GEOCODER}/findAddressCandidates?SingleLine=${value}&outSR=4326&outFields=*&f=pjson`;\n    fetch(url)\n      .then((r) => r.json())\n      .then((d) => {\n        console.log(d)\n        if (d.candidates.length > 0) {\n          let { attributes, location } = d.candidates[0];\n          if (attributes[\"parcel_id\"]) {\n            setParcel(attributes[\"parcel_id\"]);\n          } else {\n            console.log(\"not found!\");\n            setParcel(null);\n          }\n          setCoords(location);\n        }\n      });\n  };\n\n  return (\n    <section className={hasFocus ? `address-search py-2 px-2 bg-det-gray rounded w-full text-gray-900` : `address-search py-2 px-2 bg-det-gray rounded w-full text-gray-600`}>\n\n      <div className=\"flex items-center\">\n        <input\n          className=\"bg-white mb-2 focus:outline-none font-lg p-1 focus:shadow-outline border border-gray-300 rounded-lg block w-full appearance-none leading-normal\"\n          onChange={(e) => (searchField === \"address\" ? handleSearch(e.target.value) : setParcel(null))}\n          onKeyDown={(e) => e.keyCode === 13 && (searchField === \"address\" ? onSearchSelect(value) : setParcel(e.target.value)\n          )}\n          onFocus={(e) => {\n            console.log(e);\n            setHasFocus(true);\n          }}\n          onBlur={(e) => {\n            console.log(e);\n            setHasFocus(false);\n          }}\n        ></input>\n                <HeaderButton\n          icon={faWindowClose}\n          onClick={() => { setSearch(false)\n          \n          }}\n          className=\"ml-2\"\n          />\n      </div>\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center\">\n        <label className={`inline-block text-sm flex items-center mr-2`}>Search by:</label>\n        <select onChange={(e) => setSearchField(e.target.value)}>\n          <option value=\"address\" className=\"p-2\">address</option>\n          <option value=\"parcel ID\">Parcel ID</option>\n        </select> \n       </div>\n      </div>\n    </section>\n  );\n}\n\nexport default AddressSearch;\n","import React from \"react\";\n\nconst SectionH3 = ({ children }) => {\n  return <h3 className=\"font-normal\">{children}</h3>;\n};\n\nexport default SectionH3;\n","import moment from \"moment\";\nimport React from \"react\";\n\nimport SectionH3 from \"./SectionH3\";\n\nfunction DetailsTable({ parcelData, parcelApiData, mobile }) {\n  let d = parcelData;\n\n  console.log(d)\n  return (\n    <section className=\"w-full overflow-y-auto px-1 details-table\">\n      <section className=\"details-section\">\n        <SectionH3>Ownership</SectionH3>\n        <table className=\"parcel-details\">\n          <tbody>\n            <tr>\n              <td>Taxpayer</td>\n              <td>{d.taxpayer_1}</td>\n            </tr>\n            {d.taxpayer2 && (\n              <tr>\n                <td>Taxpayer (extended)</td>\n                <td>{d.taxpayer_2}</td>\n              </tr>\n            )}\n            <tr>\n              <td>Taxpayer Address</td>\n              <td>{`${d.taxpayer_address}, ${d.taxpayer_city}, ${d.taxpayer_state}, ${d.taxpayer_zip_code}`}</td>\n            </tr>\n            {d.saledate && (\n              <tr>\n                <td>Last Sale Date</td>\n                <td>{moment(d.sale_date).format(\"LL\")}</td>\n              </tr>\n            )}\n            {d.saledate && (\n              <tr>\n                <td>Last Sale Price</td>\n                <td>{`$${parseInt(d.amt_sale_price).toLocaleString()}`}</td>\n              </tr>\n            )}\n            <tr>\n              <td>PRE %</td>\n              <td>{d.pct_pre_claimed}</td>\n            </tr>\n            {d.nez !== \"\" && (\n              <tr>\n                <td>NEZ</td>\n                <td>{d.nez}</td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </section>\n      <section className=\"details-section\">\n        <SectionH3>Usage & classification</SectionH3>\n        <table className=\"parcel-details\">\n          <tbody>\n            {/* <tr>\n              <td>\n                Improved?\n              </td>\n              <td>\n                {d.is_improved === 1 ? `Yes` : `No`}\n              </td>\n            </tr> */}\n            <tr>\n              <td>Property Class</td>\n              <td>\n                {d.property_class} - {d.property_class_description}\n              </td>\n            </tr>\n            <tr>\n              <td>Property Use</td>\n              <td>\n                {d.use_code} - {d.use_code_description}\n              </td>\n            </tr>\n            <tr>\n              <td>Zoning</td>\n              <td>{d.zoning_district}</td>\n            </tr>\n            <tr>\n              <td># of Buildings</td>\n              <td>{d.num_bldgs}</td>\n            </tr>\n            {d.totalfloor && (\n              <tr>\n                <td>Total Floor Area (sf)</td>\n                <td>{d.total_floor_area}</td>\n              </tr>\n            )}\n            {d.style && (\n              <tr>\n                <td>Style</td>\n                <td>{d.building_style}</td>\n              </tr>\n            )}\n            <tr>\n              <td>Historic Designation</td>\n              <td>{d.local_historic_district}</td>\n            </tr>\n          </tbody>\n        </table>\n      </section>\n      <section className=\"details-section\">\n        <SectionH3>Taxation</SectionH3>\n        <table className=\"parcel-details\">\n          <tbody>\n            <tr>\n              <td>Tax Status</td>\n              <td>{d.tax_status_description}</td>\n            </tr>\n            <tr>\n              <td>Assessed Value</td>\n              <td>{`$${parseInt(d.amt_assessed_value).toLocaleString()}`}</td>\n            </tr>\n            <tr>\n              <td>Taxable Value</td>\n              <td>{`$${parseInt(d.amt_taxable_value).toLocaleString()}`}</td>\n            </tr>\n          </tbody>\n        </table>\n      </section>\n      <section className=\"details-section\">\n        <SectionH3>Dimensions</SectionH3>\n        <table className=\"parcel-details\">\n          <tbody>\n            <tr>\n              <td>Total Acreage</td>\n              <td>{d.total_acreage} ac</td>\n            </tr>\n            <tr>\n              <td>Total Square Footage</td>\n              <td>{d.total_square_footage} sf</td>\n            </tr>\n            <tr>\n              <td>Depth x Frontage (ft)</td>\n              <td>\n                {d.depth} x {d.frontage}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </section>\n      <section className=\"details-section\">\n        <SectionH3>Legal description</SectionH3>\n        <p className=\"mt-2 max-w-8 bg-det-gray px-4 py-2 font-mono text-sm leading-4\">{d.legal_description}</p>\n      </section>\n    </section>\n  );\n}\n\nexport default DetailsTable;\n","import centroid from \"@turf/centroid\";\nimport React, { useEffect, useState } from \"react\";\nimport { convert, parse } from \"terraformer-arcgis-parser\";\n\nimport DetailsTable from \"./DetailsTable\";\nimport SectionH3 from \"./SectionH3\";\n\nconst Details = ({ parcel, setCoords, mobile, children }) => {\n  let [parcelData, setParcelData] = useState(null);\n  let [parcelApiData, setParcelApiData] = useState(null);\n  const [loadScreen, setLoadScreen] = useState(false);\n\n  // function to fetch data; returns a fetch Promise\n  const fetchData = (parcel) => {\n    // object to hold URL query string parameters\n    let params = {\n      where: `parcel_id='${parcel}'`,\n      outFields: \"*\",\n      outSR: 4326,\n      f: \"json\",\n    };\n\n    // service URL for parcel layer\n    let url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/parcel_file_current/FeatureServer/0/query?`;\n\n    // loop through params keys, make URI encoded string, join with &s\n    let queryString = Object.keys(params)\n      .map((k) => `${k}=${encodeURIComponent(params[k])}`)\n      .join(\"&\");\n\n    return fetch(url + queryString);\n  };\n\n  useEffect(() => {\n    setLoadScreen(true);\n    fetchData(parcel)\n      .then((response) => response.json())\n      .then((d) => {\n            if(d.features.length > 0) {\n              let geojson = parse(d.features[0].geometry);\n              let coordinates = centroid(geojson).geometry.coordinates;\n              let coords = {\n                y: coordinates[1],\n                x: coordinates[0],\n              };\n              setCoords(coords);\n              console.log(\"Selected parcel: \", d.features[0]);\n              setParcelData(d.features[0]);\n              setLoadScreen(false);\n            }\n            else {\n              console.log('Parcel not found')\n              setParcelData(null)\n              setLoadScreen(false)\n            }\n          })\n  }, [parcel]);\n\n  return (\n    <section className={`m-1`}>\n      {parcelData ? (\n        <>\n            <table className=\"bg-det-gray mb-1\" style={{ position: 'sticky', top: 0}}>\n              <thead>\n                <tr className=\"\">\n                  <td>Parcel ID: {parcelData.attributes.parcel_id}</td>\n                  <td>\n                    Address: <b>{parcelData.attributes.address}</b>\n                  </td>\n                </tr>\n              </thead>\n            </table>\n          <DetailsTable parcelData={parcelData.attributes} parcelApiData={parcelApiData} mobile={mobile} />\n        </>\n      ) : (\n        <>\n        <div className=\"p-2 text-lg\">\n          We couldn't find information for this parcel: {parcel}\n        </div>\n        {children}\n        </>\n      )}\n    </section>\n  );\n};\n\nexport default Details;\n","import React from \"react\";\n\nimport logo from \"../img/logo.png\";\nimport {HeaderButton} from './HeaderButton';\nimport { faGlobe, faInfoCircle, faSearch, faStreetView } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Header = ({ showSearch, setSearch, showInfo, setInfo, showSv, setSv, showSatellite, setSatellite, mobile, children }) => {\n  return (\n    <header>\n      <div className=\"flex items-center mx-1 mb-1\">\n        <img src={logo} className=\"h-12\" />\n        <h1 className=\"text-xl w-full ml-2\">Parcel Viewer</h1>\n      </div>\n      <div className=\"flex items-center justify-end mb-1\">\n        <HeaderButton icon={faInfoCircle} active={showInfo} onClick={() => {setInfo(!showInfo)}}/>\n        <HeaderButton icon={faSearch} active={showSearch} onClick={() => {setSearch(!showSearch)}}/>\n        <HeaderButton icon={faStreetView} active={showSv} onClick={() => {setSv(!showSv)}}/>\n        <HeaderButton icon={faGlobe} active={showSatellite} onClick={() => {setSatellite(!showSatellite)}}/>\n      </div>\n      {/* {mobile &&\n        <div className=\"flex items-center mr-3\">\n          <img src={logo} className=\"h-12\" />\n          <h1 className=\"text-xl w-full mx-2\">Parcel Viewer</h1>\n          <HeaderButton icon={faInfoCircle} active={showInfo} onClick={() => {setInfo(!showInfo)}}/>\n          <HeaderButton icon={faSearch} active={showSearch} onClick={() => {setSearch(!showSearch)}}/>\n        </div>\n      } */}\n      <section className=\"pl-1 panels-area\">\n        {children}\n      </section>\n    </header>\n  );\n};\nexport default Header;\n","import {\n  faCalendarAlt,\n  faGlobe,\n  faMapMarked,\n  faStreetView,\n  faWindowClose,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\n\nimport { HeaderButton } from \"./HeaderButton\";\n\nconst IntroPara = ({ children }) => {\n  return <p className=\"py-2 text-sm\">{children}</p>;\n};\n\nconst Introduction = ({ setInfo, showInfo, setDisclaimed }) => {\n  return (\n    <section className=\"details introduction px-2 py-2 bg-det-gray bg-opacity-50 rounded overflow-y-auto\">\n      <div className=\"flex items-center align-top justify-between\">\n        <h1 className=\"text-lg\">Welcome to the new Parcel Viewer</h1>\n        <HeaderButton\n          icon={faWindowClose}\n          onClick={() => {\n            localStorage.setItem(\"showInfo\", false);\n            setInfo(!showInfo);\n          }}\n        />\n      </div>\n      <IntroPara>\n        You can use this application to look up information about parcels in the\n        City of Detroit.\n      </IntroPara>\n      <IntroPara>You can find information about parcels in two ways:</IntroPara>\n      <ul className=\"list-disc list-inside ml-2 py-2 text-sm\">\n        <li>\n          <b>Search</b>\n          <FontAwesomeIcon icon={faSearch} className=\"mx-2\" />\n          for an address or parcel ID using the search box above\n        </li>\n        <li>\n          Click a parcel on the <b>map</b>\n          <FontAwesomeIcon icon={faMapMarked} className=\"mx-2\" />\n        </li>\n      </ul>\n      <IntroPara>\n        You can see the latest <b>Street View</b>\n        <FontAwesomeIcon icon={faStreetView} className=\"mx-2\" />\n        imagery for the parcel you selected:\n      </IntroPara>\n      <ul className=\"list-disc list-inside ml-2 py-2 text-sm\">\n        <li>\n          Switch between different imagery <b>capture dates</b>\n          <FontAwesomeIcon icon={faCalendarAlt} className=\"mx-2\" />\n          using the date picker\n        </li>\n      </ul>\n      <IntroPara>\n        You can also switch the map baselayer to <b>satellite imagery</b>\n        <FontAwesomeIcon icon={faGlobe} className=\"mx-2\" />\n      </IntroPara>\n      <IntroPara>\n        Do you have questions or comments about this tool? Tell us using our{\" \"}\n        <a\n          href=\"https://airtable.com/shrInZsfyRoJvq8GJ\"\n          className=\"underline text-gray-700 hover:text-blue-600\"\n        >\n          feedback form\n        </a>{\" \"}\n        or please open a{\" \"}\n        <a\n          href=\"https://github.com/CityOfDetroit/parcel-viewer/issues\"\n          className=\"underline text-gray-700 hover:text-blue-600\"\n        >\n          GitHub issue\n        </a>\n        .\n      </IntroPara>\n      <button className=\"underline text-gray-700 hover:text-blue-600\" onClick={() => setDisclaimed(false)} >\n        View full disclaimer\n      </button>\n    </section>\n  );\n};\n\nexport default Introduction;\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\n\nconst MapTitle = ({ icon, children }) => (\n  <div className=\"flex items-center mr-2\">\n    <FontAwesomeIcon icon={icon} className=\"mx-2 text-md\" />\n    <h2 className=\"border-none font-light text-md\">{children}</h2>\n  </div>\n);\n\nconst MapTitleSection = ({ children }) => (\n  <div className=\"bg-det-light-green flex items-center py-1 px-1 justify-between z-40 absolute w-full leading-none\">{children}</div>\n);\n\nexport { MapTitleSection, MapTitle };\n","import { faExchangeAlt, faMapMarked } from \"@fortawesome/free-solid-svg-icons\";\nimport mapboxgl from \"mapbox-gl\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport mapStyle from \"../style.json\";\nimport satMapStyle from \"../satstyle.json\";\nimport videoIcon from \"../img/video.png\";\n\nimport { MapTitle, MapTitleSection } from \"./MapHeader\";\n\nconst Map = ({\n  parcel,\n  setParcel,\n  coords,\n  width,\n  height,\n  children,\n  svCoords,\n  svBearing,\n  showSv,\n  showSatellite,\n}) => {\n  const [theMap, setTheMap] = useState(null);\n  let history = useHistory();\n\n  let [xMin, yMin, xMax, yMax] = [-83.237803, 42.355192, -82.910451, 42.45023];\n  let xCenter = (xMin + xMax) / 2;\n  let yCenter = (yMin + yMax) / 2;\n\n  useEffect(() => {\n    var map = new mapboxgl.Map({\n      container: \"map\", // container id\n      style: showSatellite ? satMapStyle : mapStyle, // stylesheet location\n      center: coords ? [coords.y, coords.x] : [xCenter, yCenter], // starting position [lng, lat]\n      zoom: 11, // starting zoom\n    });\n\n    map.addControl(\n      new mapboxgl.NavigationControl({\n        showCompass: false,\n      }),\n      \"bottom-left\"\n    );\n\n    // Add geolocate control to the map.\n    map.addControl(\n      new mapboxgl.GeolocateControl({\n        positionOptions: {\n          enableHighAccuracy: true,\n        },\n        trackUserLocation: true,\n      }),\n      \"bottom-left\"\n    );\n    map.resize();\n\n    map.on(\"load\", () => {\n      setTheMap(map);\n      map.on(\"click\", \"parcels-fill\", function (e) {\n        let results = map.queryRenderedFeatures(e.point, {\n          layers: [\"parcels-fill\"],\n        });\n        console.log(results);\n\n        // Subsequent clicks on the same shape cycle between overlapping parcels.\n        setParcel((currentParcel) => {\n          const parcels = results.map((p) => p.properties.parcel_id);\n          const currentIndex = parcels.findIndex(\n            (candidateParcel) => candidateParcel === currentParcel\n          );\n          const nextIndex = (currentIndex + 1) % results.length;\n          const nextParcel = parcels[nextIndex];\n\n          history.push(`/${nextParcel}/`);\n          return nextParcel;\n        });\n\n        // setCoords(e.lngLat);\n      });\n    });\n\n    map.on(\"style.load\", () => {\n      map.loadImage(videoIcon, (error, image) => {\n        if (error) throw error;\n        map.addImage(\"video\", image);\n        map.setFilter(\"parcels-highlight\", [\n          \"==\",\n          \"parcel_id\",\n          parcel ? parcel : \"\",\n        ]);\n        svCoords &&\n          map.getSource(\"mapillary\").setData({\n            type: \"FeatureCollection\",\n            // we'll make the map data here\n            features: [\n              {\n                type: \"Feature\",\n                geometry: {\n                  type: \"Point\",\n                  coordinates: [svCoords.lon, svCoords.lat],\n                },\n                properties: {\n                  bearing: svBearing - 90,\n                },\n              },\n            ],\n          });\n      });\n    });\n  }, []);\n\n  useEffect(() => {\n    if (theMap && showSatellite) {\n      theMap.setStyle(satMapStyle);\n    }\n    if (theMap && !showSatellite) {\n      theMap.setStyle(mapStyle);\n    }\n  }, [showSatellite]);\n\n  //Highlight active parcel\n  useEffect(() => {\n    theMap &&\n      theMap.setFilter(\"parcels-highlight\", [\n        \"==\",\n        \"parcel_id\",\n        parcel ? parcel : \"\",\n      ]);\n  }, [parcel, theMap]);\n\n  //Highlight active parcel\n  useEffect(() => {\n    theMap && coords && theMap.easeTo({center: [coords.x, coords.y], zoom: 17 });\n  }, [coords, theMap]);\n\n  useEffect(() => {\n    theMap && theMap.resize();\n  }, [width, height]);\n\n  useEffect(() => {\n    if (theMap && showSv) {\n      theMap.setLayoutProperty(\"mapillary-location\", \"visibility\", \"visible\");\n    }\n    if (theMap && !showSv) {\n      theMap.setLayoutProperty(\"mapillary-location\", \"visibility\", \"none\");\n    }\n  }, [showSv]);\n\n  useEffect(() => {\n    console.log(svCoords, svBearing);\n    theMap &&\n      showSv &&\n      theMap.getSource(\"mapillary\").setData({\n        type: \"FeatureCollection\",\n        // we'll make the map data here\n        features: [\n          {\n            type: \"Feature\",\n            geometry: {\n              type: \"Point\",\n              coordinates: [svCoords.lon, svCoords.lat],\n            },\n            properties: {\n              bearing: svBearing - 90,\n            },\n          },\n        ],\n      });\n    if (theMap && !showSv) {\n      theMap.getSource(\"mapillary\").setData({\n        type: \"FeatureCollection\",\n        features: [],\n      });\n    }\n  }, [svCoords, svBearing]);\n\n  return (\n    <section id=\"map\" className={`map-view mx-1 mt-1 rounded`}>\n      <MapTitleSection>\n        <MapTitle icon={faMapMarked}>Map</MapTitle>\n        {children}\n      </MapTitleSection>\n    </section>\n  );\n};\n\nexport default Map;\n","import { faCalendar, faCalendarAlt, faStreetView } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport bearing from \"@turf/bearing\";\nimport * as Mapillary from \"mapillary-js\";\nimport moment from \"moment\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { MapTitle, MapTitleSection } from \"./MapHeader\";\n\nlet clientid = \"bmZxVGc0ODVBVXhZVk5FTDdyeHlhZzowM2EyODU0Njc4OWY3ZGNi\";\n\n/**\n * Wrap a value on the interval [min, max].\n */\nfunction wrap(value, min, max) {\n  var interval = max - min;\n\n  while (value > max || value < min) {\n    if (value > max) {\n      value = value - interval;\n    } else if (value < min) {\n      value = value + interval;\n    }\n  }\n\n  return value;\n}\n\n/**\n * Convert a desired bearing to a basic X image coordinate for\n * a specific node bearing.\n *\n * Works only for a full 360 panorama.\n */\nfunction bearingToBasic(desiredBearing, nodeBearing) {\n  // 1. Take difference of desired bearing and node bearing in degrees.\n  // 2. Scale to basic coordinates.\n  // 3. Add 0.5 because node bearing corresponds to the center\n  //    of the image. See\n  //    https://mapillary.github.io/mapillary-js/classes/viewer.html\n  //    for explanation of the basic coordinate system of an image.\n  var basic = (desiredBearing - nodeBearing) / 360 + 0.5;\n\n  // Wrap to a valid basic coordinate (on the [0, 1] interval).\n  // Needed when difference between desired bearing and node\n  // bearing is more than 180 degrees.\n  return wrap(basic, 0, 1);\n}\n\n/**\n * Function to set the mapillary viewer's center by computing bearing\n */\nfunction setBearing(node, mly, start, end) {\n  if (!node.fullPano) {\n    // We are only interested in setting the bearing for full 360 panoramas.\n    return;\n  }\n  var nodeBearing = node.computedCA; // Computed node compass angle (equivalent\n  // to bearing) is used by mjs when placing\n  // the node in 3D space.\n\n  // compute this with @turf/bearing\n  var desiredBearing = bearing(start, end); // Your desired bearing.\n  var basicX = bearingToBasic(desiredBearing, nodeBearing);\n  var basicY = 0.45; // tilt slightly up\n\n  var center = [basicX, basicY];\n\n  mly.setCenter(center);\n}\n\n/**\n * Promise-returning function to fetch a new Mapillary imageKey based on some coordinates\n */\nconst fetchImageKey = (coords) => {\n  let lnglat;\n  if (coords.lng && coords.lat) {\n    lnglat = `${coords.lng},${coords.lat}`;\n  }\n  if (coords.x && coords.y) {\n    lnglat = `${coords.x},${coords.y}`;\n  }\n  let url = `https://a.mapillary.com/v3/images?client_id=${clientid}&closeto=${lnglat}&radius=80&usernames=codgis&start_time=2018-07-01`;\n  return fetch(url).then((r) => r.json());\n};\n\nlet markerStyle = {\n  ballColor: \"white\",\n  ballOpacity: 0.5,\n  color: \"#feb70d\",\n  opacity: 0.55,\n  interactive: false,\n  radius: 2,\n};\n\nconst StreetView = ({ coords, width, height, setSvBearing, setSvCoords, children }) => {\n  // local state to store the mapillary viewer\n  const [mapillary, setMapillary] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [currentCoords, setCurrentCoords] = useState(null);\n  const [currentKey, setCurrentKey] = useState(null);\n  const [imageKeys, setImageKeys] = useState(null);\n\n  // show full streetview on click of streetview button\n  useEffect(() => {\n    let mapillaryView = new Mapillary.Viewer(\"mly\", clientid, null, {\n      component: {\n        cover: true,\n        marker: true,\n        sequence: false,\n        cache: true,\n        attribution: false,\n        // direction: true\n      },\n    });\n\n    setMapillary(mapillaryView);\n\n    mapillaryView.on(\"nodechanged\", (n) => {\n      setSvCoords(n.latLon);\n    });\n\n    mapillaryView.on(\"bearingchanged\", (b) => {\n      setSvBearing(b);\n    });\n\n    if (coords !== currentCoords) {\n      setCurrentCoords(coords);\n      fetchImageKey(coords).then((d) => {\n        let sequences = [];\n        d.features.forEach((ik) => {\n          if (sequences.map((s) => s.properties.captured_at.slice(0, 10)).indexOf(ik.properties.captured_at.slice(0, 10)) === -1) {\n            sequences.push(ik);\n          }\n        });\n        let sorted = sequences.sort((a, b) => moment(a.properties.captured_at) - moment(b.properties.captured_at));\n        setImageKeys(sorted);\n        setCurrentKey(sorted[sorted.length - 1]);\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    setLoading(true);\n    mapillary &&\n      currentKey &&\n      mapillary.moveToKey(currentKey.properties.key).then((node) => {\n        setBearing(node, mapillary, currentKey.geometry.coordinates, [coords.lng || coords.x, coords.lat || coords.y]);\n        setLoading(false);\n      });\n  }, [currentKey, mapillary]);\n\n  useEffect(() => {\n    if (mapillary) {\n      setLoading(true);\n      setImageKeys(null);\n      let defaultMarker = new Mapillary.MarkerComponent.SimpleMarker(\"default-id\", { lat: coords.y, lon: coords.x }, markerStyle);\n      let markerComponent = mapillary.getComponent(\"marker\");\n      markerComponent.add([defaultMarker]);\n      fetchImageKey(coords).then((d) => {\n        let sequences = [];\n        d.features.forEach((ik) => {\n          if (sequences.map((s) => s.properties.captured_at.slice(0, 10)).indexOf(ik.properties.captured_at.slice(0, 10)) === -1) {\n            sequences.push(ik);\n          }\n        });\n        let sorted = sequences.sort((a, b) => moment(a.properties.captured_at) - moment(b.properties.captured_at));\n        setImageKeys(sorted);\n        setCurrentKey(sorted[sorted.length - 1]);\n      });\n    }\n  }, [coords, mapillary]);\n\n  useEffect(() => {\n    if (mapillary) {\n      mapillary.resize();\n    }\n  }, [width, height]);\n\n  return (\n    <section id=\"mly\" className=\"street-view mx-1 mt-1 rounded\">\n      <MapTitleSection>\n        <MapTitle icon={faStreetView}>{loading ? `Loading imagery...` : `Street view`}</MapTitle>\n        {imageKeys && currentKey && (\n          <div className=\"flex items-center\">\n            <FontAwesomeIcon icon={faCalendarAlt} className=\"text-md mr-2\" />\n            <select\n              className=\"block appearance-none text-xs mr-3 px-2 py-1 bg-det-gray border border-gray-200 text-gray-700 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n              value={moment(currentKey.properties.captured_at).format(\"ll\")}\n              onChange={(e) => {\n                setCurrentKey(imageKeys.filter((s) => moment(s.properties.captured_at).format(\"ll\") === e.target.value)[0]);\n              }}\n            >\n              {imageKeys.map((s, i) => (\n                <option key={s.properties.key}>{moment(s.properties.captured_at).format(\"ll\")}</option>\n              ))}\n            </select>\n            {children}\n          </div>\n        )}\n      </MapTitleSection>\n    </section>\n  );\n};\n\nexport default StreetView;\n","import React from \"react\";\n\nconst Disclaimer = ({ setDisclaimed }) => {\n  const handleAcceptance = () => {\n    localStorage.setItem(\"disclaimed\", true);\n    setDisclaimed(true);\n  };\n\n  return (\n    <div className=\"disclaimer m-2 p-2 md:m-12 md:p-12 flex flex-col gap-4\">\n      <h1 className=\"mb-4\">Full Disclaimer</h1>\n\n      <div>\n        <h4>Limitation of Use</h4>\n        <p>\n          The Parcel View viewer (hereafter “Viewer”) and all data presented\n          therein is provided by City of Detroit (hereafter “City”) to give\n          access to data for the City of Detroit area developed by City\n          departments, incorporated cities within the City, and other local,\n          state and federal entities, public and commercial. The Viewer uses\n          Geographic Information Systems (hereafter “GIS”) technology to provide\n          a visual display of data for the convenience of the end user\n          (hereafter “User”).\n        </p>\n\n        <p>\n          It is to be used for reference purposes only as a guide to finding\n          assessment, planning, and other information and is not suitable for\n          site-specific or business decision making and should not be used for\n          making financial or any other commitments. Such decisions should only\n          be made after validating information based on additional information\n          available from the appropriate City office or other entities. NO\n          PORTION OF THE INFORMATION PRESENTED SHOULD BE CONSIDERED OR USED AS A\n          LEGAL DOCUMENT.\n        </p>\n\n        <p>\n          The data presented is for informational purposes only and should not\n          be used for legal, engineering, or surveying purposes. THE VIEWER IS\n          NOT TO BE USED FOR PROPERTY DESCRIPTIONS, OR DETERMINATION OF LEGAL\n          TITLE. Property descriptions must be obtained from surveys or deeds.\n          The compilation of countywide tax parcel and related data, street\n          centerline, and other data results in a seamless dataset derived from\n          many sources, particularly surveys, deeds, City and city resolutions,\n          and orthophotography. It should be interpreted as the best available\n          compilation, but SHOULD NEVER BE SUBSTITUTED FOR SURVEY OR DEED\n          INFORMATION.\n        </p>\n\n        <p>\n          While every effort has been made to ensure the accuracy, correctness,\n          and timeliness of data presented in the Viewer, the City assumes no\n          responsibility for errors or omissions, even if the City is advised of\n          the possibility of such damage. The City does not warrant that the\n          operation of the Viewer will be uninterrupted or that defects in data\n          will be corrected.\n        </p>\n\n        <p>\n          The Viewer provides GIS functionality available to the User to alter\n          the display of data, such as altering color of feature symbols and\n          toggling feature labels, loading data into the Viewer, and performing\n          queries and other GIS functions. It is incumbent on the User to\n          understand the effects of such functions on display and presentation\n          of data. Please watch the training videos for details on how to use\n          this application.\n        </p>\n      </div>\n\n      <div>\n        <h4>Assumption of Risk</h4>\n\n        <p>\n          The User understands and acknowledges that the data presented herein\n          are subject to constant change and is not guaranteed to be accurate,\n          correct or complete, nor that it will meet the requirements of the\n          User. The entire risk as to quality, performance, and usefulness of\n          the Viewer, associated data, and conclusions drawn from its use rest\n          with the User. The City does not warrant that the operation of the\n          Viewer will be uninterrupted or that defects in data will be\n          corrected.\n        </p>\n\n        <p>\n          Products may have a number of errors which may include but are not\n          limited to the following types of errors:\n        </p>\n\n        <ul className=\"ml-2 list-disc list-inside\">\n          <li>\n            Spatial errors - The areas depicted in the data are approximate, and\n            are not necessarily accurate to surveying or engineering standards.\n            X/Y coordinates may be in error by several hundred feet or more.\n          </li>\n          <li>\n            Registration errors - GIS data layers may not overlay each other\n            correctly. For example, parcel boundaries may not align properly\n            with underlying orthophotography.\n          </li>\n          <li>Attribute errors - Database information may be incorrect.</li>\n          <li>\n            Currency errors - GIS data layers, databases, and documents may not\n            be the most current available or may not depict the specified time.\n            All data is subject to constant change. Data input lags real-world\n            changes by varying periods of time.\n          </li>\n          <li>\n            Completeness errors - Data may be missing or data may be included\n            that does not belong.\n          </li>\n          <li>\n            Projection distortion - All map projections introduce distortion by\n            representing the irregular shape of the earth's surface on flat\n            maps. This affects feature shapes, angles, map distances, and areas.\n          </li>\n          <li>\n            Calculation errors - Results of calculations may not be exact due to\n            rounding, precision of stored values, or algorithm differences.\n          </li>\n          <li>\n            Representation errors - Maps or other displays may not properly\n            represent the data. For instance, a white line on a white background\n            would appear as if it wasn't there. Data may be displayed at an\n            inappropriate scale.\n          </li>\n        </ul>\n\n        <p>\n          The information is provided subject to the express condition that the\n          user knowingly waives any and all claims for damages against City of\n          Detroit and its officers, agents, consultants, contractors, and\n          employees that may arise from the use of this data.\n        </p>\n      </div>\n\n      <div>\n        <h4>Availability</h4>\n\n        <p>\n          Availability of the Viewer is not guaranteed. Applications, servers,\n          and network connections may be unavailable at any time for maintenance\n          or unscheduled outages. Outages may be of long duration. Do not create\n          dependencies on these services for critical needs.\n        </p>\n      </div>\n      <div>\n        <h4>Maintenance of Data</h4>\n\n        <p>\n          To assist the City in the maintenance of GIS data, Users should\n          provide the City information concerning errors or discrepancies found\n          in using the Viewer. Please email: dsa@detroitmi.gov with such\n          information.\n        </p>\n      </div>\n\n      <button\n        onClick={handleAcceptance}\n        className=\"bg-gray-800 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded mt-4\"\n      >\n        I have read and agree to the terms of use and disclaimer\n      </button>\n    </div>\n  );\n};\n\nexport default Disclaimer;\n","import \"./css/app.css\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport AddressSearch from \"./components/AddressSearch.js\";\nimport Details from \"./components/Details\";\nimport Header from \"./components/Header\";\nimport Introduction from \"./components/Introduction\";\nimport Map from \"./components/Map\";\nimport StreetView from \"./components/StreetView\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {faGithub} from '@fortawesome/free-brands-svg-icons'\nimport { faExclamationTriangle } from \"@fortawesome/free-solid-svg-icons\";\nimport Disclaimer from \"./components/Disclaimer.js\";\n\nconst SidebarFooter = () => {\n  return (\n    <div className=\"px-2 flex justify-between items-center bg-det-gray text-sm\" style={{gridArea: 'f'}}>\n      <span>City of Detroit, {new Date().getFullYear()}. <a href=\"https://airtable.com/shrInZsfyRoJvq8GJ\" className=\"underline text-gray-700 hover:text-blue-600\">feedback form</a></span>\n      <a href=\"https://www.github.com/CityOfDetroit/parcel-viewer/\"><FontAwesomeIcon icon={faGithub} /></a>\n    </div>\n  )\n}\n\nconst SiteRetired = ({ parcel }) => { \n  \n  let newRootUrl = `https://base-unit-tools.netlify.app/`\n\n  return (\n  <div className=\"px-4 py-4 font-semibold bg-red-400 text-sm\" style={{background: 'rgba(200,20,20,0.9)', padding: '10px', color: 'white', fontWeight: 500}}>\n  <h3 style={{borderBottom: 'none', marginBottom: '1em'}}>\n    <FontAwesomeIcon icon={faExclamationTriangle} className=\"mr-2\" />\n    This tool will soon be retired! \n  </h3>\n  <p className=\"font-normal\" style={{margin: '.5em 0'}}>\n    Please migrate to the <a href={`${newRootUrl}/map?id=${parcel}&type=parcels&layers=parcels&basemap=satellite`} className=\"underline\">Base Unit Tools site</a> for parcel information, and change your bookmarks.\n  </p>\n  \n  <p className=\"font-normal\" style={{margin: '.5em 0'}}>\n  The <b>new URL</b> for the page you are currently viewing is:\n  </p>\n  \n  <p style={{margin: '1em 0 .5em 0', background: 'rgb(230,230,230)', padding: '.5em', color: 'blue'}} className=\"w-full font-mono\">\n    <a href={`${newRootUrl}/parcel-viewer?id=${parcel}&type=parcels&basemap=satellite`} className=\"underline text-xs font-thin\">https://base-unit-tools.netlify.app/parcel-viewer?id={parcel}&type=parcels&basemap=satellite</a>\n  </p>\n</div>\n)}\n\nconst ParcelExplorer = () => {\n  // get the parcel ID from the URL\n  let { pid } = useParams();\n\n  // screen size hooks: we need to change behavior for mobile/etc\n  const breakpoint = 640;\n  const [width, setWidth] = useState(window.innerWidth);\n  const [height, setHeight] = useState(window.innerHeight);\n  const [mobile, setMobile] = useState(width < breakpoint);\n\n  // app state\n  const [parcel, setParcel] = useState(pid ? pid : null);\n  const [coords, setCoords] = useState(null);\n  const [map, setMap] = useState(true);\n  const [showSv, setSv] = useState(false);\n  const [svCoords, setSvCoords] = useState(null);\n  const [svBearing, setSvBearing] = useState(null);\n  const [showInfo, setInfo] = useState(localStorage.getItem(\"showInfo\") || false);\n  const [showSearch, setSearch] = useState(mobile ? false : true)\n  const [showSatellite, setSatellite] = useState(true)\n\n  // Roll our own media-query hook:\n  useEffect(() => {\n    const handleWindowResize = () => {\n      setWidth(window.innerWidth);\n      setHeight(window.innerHeight);\n      setMobile(window.innerWidth < breakpoint);\n    };\n    window.addEventListener(\"resize\", handleWindowResize);\n    return () => window.removeEventListener(\"resize\", handleWindowResize);\n  }, []);\n\n  let [disclaimed, setDisclaimed] = useState(localStorage.getItem(\"disclaimed\") || false);\n  let [intro, setIntro] = useState(localStorage.getItem(\"intro\") || false);\n\n  return (\n    !disclaimed ? <Disclaimer {...{setDisclaimed}} /> : \n    <div className={!mobile ? \"App\" : \"MobileApp\"}>\n      <Header {...{setSearch, showSearch, showInfo, setInfo, setParcel, showSv, setSv, showSatellite, setSatellite, mobile}}>\n        {/* {parcel && <SiteRetired parcel={parcel} />} */}\n        {showInfo && <Introduction {...{setInfo, showInfo, disclaimed, setDisclaimed}}/>}\n        {showSearch && <AddressSearch {...{ parcel, setParcel, setCoords, setSearch, showSearch }} />}\n      </Header>\n      <div id=\"sidebar\">\n      {showSv && (\n        <StreetView {...{ coords, width, height, setSvBearing, setSvCoords }} />\n        )}\n        {parcel && <Details {...{ parcel, setCoords, mobile }} />}\n      </div>\n      <SidebarFooter />\n      <div className=\"map-view\">\n      {((mobile && map) || !mobile) && (\n        <Map {...{ parcel, setParcel, width, coords, svCoords, svBearing, showSv, showSatellite }} />\n        )}\n\n      </div>\n    </div>\n  );\n};\n\nexport default ParcelExplorer;\n ","import React, {} from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport Analytics from 'react-router-ga';\nimport ParcelExplorer from './ParcelExplorer';\n\nconst trackingId = 'UA-107915075-6'\n\nexport default function App() {\n  return (\n\n    <Router basename='/parcel-viewer'>\n          <Analytics id={trackingId} debug>\n\n        {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n        <Switch>\n          <Route path=\"/:pid\" children={<ParcelExplorer />} />\n          <Route path=\"/\">\n            <ParcelExplorer />\n          </Route>\n        </Switch>\n        </Analytics>\n    </Router>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import \"./tailwind.output.css\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}