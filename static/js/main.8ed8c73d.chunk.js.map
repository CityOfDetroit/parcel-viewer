{"version":3,"sources":["img/logo.png","img/video.png","components/HeaderButton.js","components/AddressSearch.js","components/SectionH3.js","components/DetailsTable.js","components/Details.js","components/Header.js","components/Introduction.js","components/MapHeader.js","components/Map.js","components/StreetView.js","ParcelExplorer.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","HeaderButton","icon","onClick","active","className","style","color","AddressSearch","setCoords","setSearch","setParcel","useState","setDataSource","value","setValue","hasFocus","setHasFocus","searchField","setSearchField","GEOCODER","useHistory","handleSearch","fetch","then","r","json","d","suggestions","length","text","map","s","suggestAddress","onChange","e","target","onKeyDown","keyCode","url","console","log","candidates","attributes","location","onSearchSelect","onFocus","onBlur","faWindowClose","SectionH3","children","DetailsTable","parcelData","parcelApiData","mobile","taxpayer_1","taxpayer2","taxpayer_2","taxpayer_street","taxpayer_city","taxpayer_state","taxpayer_zip","saledate","moment","sale_date","format","parseInt","sale_price","toLocaleString","homestead_pre","nez","property_class","property_class_desc","use_code","use_code_desc","zoning","num_bldgs","totalfloor","total_floor_area","historic_designation","tax_status","assessed_value","taxable_value","total_acreage","total_square_footage","depth","frontage","legal_description","Details","parcel","setParcelData","setLoadScreen","useEffect","params","outFields","outSR","f","where","queryString","Object","keys","k","encodeURIComponent","join","fetchData","response","features","geojson","parse","geometry","coordinates","centroid","coords","y","x","position","top","parcel_number","address","Header","showSearch","showInfo","setInfo","showSv","setSv","showSatellite","setSatellite","src","logo","faInfoCircle","faSearch","faStreetView","faGlobe","IntroPara","Introduction","localStorage","setItem","faMapMarked","faCalendarAlt","href","MapTitle","MapTitleSection","Map","width","height","svCoords","svBearing","theMap","setTheMap","history","mapboxgl","container","satMapStyle","mapStyle","center","zoom","addControl","NavigationControl","showCompass","GeolocateControl","positionOptions","enableHighAccuracy","trackUserLocation","resize","on","results","queryRenderedFeatures","point","layers","currentParcel","parcels","p","properties","currentIndex","findIndex","candidateParcel","nextParcel","push","loadImage","videoIcon","error","image","addImage","setFilter","getSource","setData","type","lon","lat","bearing","setStyle","easeTo","setLayoutProperty","id","clientid","fetchImageKey","lnglat","lng","markerStyle","ballColor","ballOpacity","opacity","interactive","radius","StreetView","setSvBearing","setSvCoords","mapillary","setMapillary","loading","setLoading","currentCoords","setCurrentCoords","currentKey","setCurrentKey","imageKeys","setImageKeys","mapillaryView","Mapillary","component","cover","marker","sequence","cache","attribution","n","latLon","b","sequences","forEach","ik","captured_at","slice","indexOf","sorted","sort","a","moveToKey","key","node","mly","start","end","fullPano","nodeBearing","computedCA","desiredBearing","min","max","interval","wrap","bearingToBasic","setCenter","setBearing","defaultMarker","SimpleMarker","getComponent","add","filter","i","SidebarFooter","gridArea","Date","getFullYear","faGithub","ParcelExplorer","pid","useParams","window","innerWidth","setWidth","innerHeight","setHeight","setMobile","getItem","handleWindowResize","addEventListener","removeEventListener","disclaimed","setDisclaimed","App","basename","debug","path","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8ed8c73d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c5600d7e.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAABmJLR0QA/wD/AP+gvaeTAAAAyElEQVQ4je3Uv2rCYBSG8Z+ZRMeCzm7q0qIXUARvyandejneQqF2rXuCo4vUQQcxOHRIhyYgIeKf1ElfOJzh5Xs4fMPDPWkq6e7iFY+oHnmzxgRv2BT0LTxBHzskZ06IWg7axTd+4OMCaDajAmjW2ZYAjw9AkwD1oo88MXW08Y7mflHJzr4wER7QyBdlwQcTXAN6m+AQy2uA53jGoggclwDHmGEod3mAaQnwV7ojDPLwnv+TUEcqoX1tvvjT3TFtrvDpBG3eA34BrIhd+y4+5nkAAAAASUVORK5CYII=\"","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\n\nexport const HeaderButton = ({ icon, onClick, active=false }) => (\n  <button className={`text-lg hover:bg-gray-400 py-2 px-3 rounded inline-flex items-center`} onClick={onClick}>\n    <FontAwesomeIcon icon={icon} style={active ? {color: 'black'} : {color: 'rgba(0,0,0,0.25)'}}/>\n  </button>\n);\n","import { faExchangeAlt, faSearch, faWindowClose } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { HeaderButton } from \"./HeaderButton\";\n\nfunction AddressSearch({ setCoords, setSearch, setParcel }) {\n  const [dataSource, setDataSource] = useState([]);\n  const [value, setValue] = useState(\"\");\n  const [hasFocus, setHasFocus] = useState(false);\n  const [searchField, setSearchField] = useState(\"address\");\n  let history = useHistory();\n\n  const GEOCODER = `https://opengis.detroitmi.gov/opengis/rest/services/BaseUnits/BaseUnitGeocoder/GeocodeServer`\n\n  const suggestAddress = (value) => {\n    if (value !== \"\") {\n      fetch(`${GEOCODER}/suggest?text=${value}&f=pjson`)\n        .then((r) => r.json())\n        .then((d) => {\n          d.suggestions.length < 1 ? setDataSource({ text: value }) : setDataSource(d.suggestions.map((s) => s.text));\n        });\n    }\n  };\n\n  const handleSearch = (value) => {\n    suggestAddress(value);\n    setValue(value);\n  };\n\n  const onSearchSelect = (value) => {\n    const url = `${GEOCODER}/findAddressCandidates?SingleLine=${value}&outSR=4326&outFields=*&f=pjson`;\n    fetch(url)\n      .then((r) => r.json())\n      .then((d) => {\n        console.log(d)\n        if (d.candidates.length > 0) {\n          let { attributes, location } = d.candidates[0];\n          if (attributes[\"parcel_id\"]) {\n            setParcel(attributes[\"parcel_id\"]);\n          } else {\n            console.log(\"not found!\");\n            setParcel(null);\n          }\n          setCoords(location);\n        }\n      });\n  };\n\n  return (\n    <section className={hasFocus ? `address-search py-2 px-2 bg-det-gray rounded w-full text-gray-900` : `address-search py-2 px-2 bg-det-gray rounded w-full text-gray-600`}>\n\n      <div className=\"flex items-center\">\n        <input\n          className=\"bg-white mb-2 focus:outline-none font-lg p-1 focus:shadow-outline border border-gray-300 rounded-lg block w-full appearance-none leading-normal\"\n          onChange={(e) => (searchField === \"address\" ? handleSearch(e.target.value) : setParcel(null))}\n          onKeyDown={(e) => e.keyCode === 13 && (searchField === \"address\" ? onSearchSelect(value) : setParcel(e.target.value)\n          )}\n          onFocus={(e) => {\n            console.log(e);\n            setHasFocus(true);\n          }}\n          onBlur={(e) => {\n            console.log(e);\n            setHasFocus(false);\n          }}\n        ></input>\n                <HeaderButton\n          icon={faWindowClose}\n          onClick={() => { setSearch(false)\n          \n          }}\n          className=\"ml-2\"\n          />\n      </div>\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center\">\n        <label className={`inline-block text-sm flex items-center mr-2`}>Search by:</label>\n        <select onChange={(e) => setSearchField(e.target.value)}>\n          <option value=\"address\" className=\"p-2\">address</option>\n          <option value=\"parcel ID\">Parcel ID</option>\n        </select> \n       </div>\n      </div>\n    </section>\n  );\n}\n\nexport default AddressSearch;\n","import React from \"react\";\n\nconst SectionH3 = ({ children }) => {\n  return <h3 className=\"font-normal\">{children}</h3>;\n};\n\nexport default SectionH3;\n","import moment from \"moment\";\nimport React from \"react\";\n\nimport SectionH3 from \"./SectionH3\";\n\nfunction DetailsTable({ parcelData, parcelApiData, mobile }) {\n  let d = parcelData;\n\n  console.log(d)\n  return (\n    <section className=\"w-full overflow-y-auto px-1 details-table\">\n      <section className=\"details-section\">\n        <SectionH3>Ownership</SectionH3>\n        <table className=\"parcel-details\">\n          <tbody>\n            <tr>\n              <td>Taxpayer</td>\n              <td>{d.taxpayer_1}</td>\n            </tr>\n            {d.taxpayer2 && (\n              <tr>\n                <td>Taxpayer (extended)</td>\n                <td>{d.taxpayer_2}</td>\n              </tr>\n            )}\n            <tr>\n              <td>Taxpayer Address</td>\n              <td>{`${d.taxpayer_street}, ${d.taxpayer_city}, ${d.taxpayer_state}, ${d.taxpayer_zip}`}</td>\n            </tr>\n            {d.saledate && (\n              <tr>\n                <td>Last Sale Date</td>\n                <td>{moment(d.sale_date).format(\"LL\")}</td>\n              </tr>\n            )}\n            {d.saledate && (\n              <tr>\n                <td>Last Sale Price</td>\n                <td>{`$${parseInt(d.sale_price).toLocaleString()}`}</td>\n              </tr>\n            )}\n            <tr>\n              <td>PRE %</td>\n              <td>{d.homestead_pre}</td>\n            </tr>\n            {d.nez !== \"\" && (\n              <tr>\n                <td>NEZ</td>\n                <td>{d.nez}</td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </section>\n      <section className=\"details-section\">\n        <SectionH3>Usage & classification</SectionH3>\n        <table className=\"parcel-details\">\n          <tbody>\n            {/* <tr>\n              <td>\n                Improved?\n              </td>\n              <td>\n                {d.is_improved === 1 ? `Yes` : `No`}\n              </td>\n            </tr> */}\n            <tr>\n              <td>Property Class</td>\n              <td>\n                {d.property_class} - {d.property_class_desc}\n              </td>\n            </tr>\n            <tr>\n              <td>Property Use</td>\n              <td>\n                {d.use_code} - {d.use_code_desc}\n              </td>\n            </tr>\n            <tr>\n              <td>Zoning</td>\n              <td>{d.zoning}</td>\n            </tr>\n            <tr>\n              <td># of Buildings</td>\n              <td>{d.num_bldgs}</td>\n            </tr>\n            {d.totalfloor && (\n              <tr>\n                <td>Total Floor Area (sf)</td>\n                <td>{d.total_floor_area}</td>\n              </tr>\n            )}\n            {d.style && (\n              <tr>\n                <td>Style</td>\n                <td>{d.style}</td>\n              </tr>\n            )}\n            <tr>\n              <td>Historic Designation</td>\n              <td>{d.historic_designation}</td>\n            </tr>\n          </tbody>\n        </table>\n      </section>\n      <section className=\"details-section\">\n        <SectionH3>Taxation</SectionH3>\n        <table className=\"parcel-details\">\n          <tbody>\n            <tr>\n              <td>Tax Status</td>\n              <td>{d.tax_status}</td>\n            </tr>\n            <tr>\n              <td>Assessed Value</td>\n              <td>{`$${parseInt(d.assessed_value).toLocaleString()}`}</td>\n            </tr>\n            <tr>\n              <td>Taxable Value</td>\n              <td>{`$${parseInt(d.taxable_value).toLocaleString()}`}</td>\n            </tr>\n          </tbody>\n        </table>\n      </section>\n      <section className=\"details-section\">\n        <SectionH3>Dimensions</SectionH3>\n        <table className=\"parcel-details\">\n          <tbody>\n            <tr>\n              <td>Total Acreage</td>\n              <td>{d.total_acreage} ac</td>\n            </tr>\n            <tr>\n              <td>Total Square Footage</td>\n              <td>{d.total_square_footage} sf</td>\n            </tr>\n            <tr>\n              <td>Depth x Frontage (ft)</td>\n              <td>\n                {d.depth} x {d.frontage}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </section>\n      <section className=\"details-section\">\n        <SectionH3>Legal description</SectionH3>\n        <p className=\"mt-2 max-w-8 bg-det-gray px-4 py-2 font-mono text-sm leading-4\">{d.legal_description}</p>\n      </section>\n    </section>\n  );\n}\n\nexport default DetailsTable;\n","import centroid from \"@turf/centroid\";\nimport React, { useEffect, useState } from \"react\";\nimport { convert, parse } from \"terraformer-arcgis-parser\";\n\nimport DetailsTable from \"./DetailsTable\";\nimport SectionH3 from \"./SectionH3\";\n\nconst Details = ({ parcel, setCoords, mobile, children }) => {\n  let [parcelData, setParcelData] = useState(null);\n  let [parcelApiData, setParcelApiData] = useState(null);\n  const [loadScreen, setLoadScreen] = useState(false);\n\n  // function to fetch data; returns a fetch Promise\n  const fetchData = (parcel) => {\n    // object to hold URL query string parameters\n    let params = {\n      outFields: \"*\",\n      outSR: 4326,\n      f: \"json\",\n      where: `parcel_number='${parcel}'`,\n    };\n\n    // service URL for parcel layer\n    let url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Parcels_Current/FeatureServer/0/query?`;\n\n    // loop through params keys, make URI encoded string, join with &s\n    let queryString = Object.keys(params)\n      .map((k) => `${k}=${encodeURIComponent(params[k])}`)\n      .join(\"&\");\n\n    return fetch(url + queryString);\n  };\n\n  useEffect(() => {\n    setLoadScreen(true);\n    fetchData(parcel)\n      .then((response) => response.json())\n      .then((d) => {\n            if(d.features.length > 0) {\n              let geojson = parse(d.features[0].geometry);\n              let coordinates = centroid(geojson).geometry.coordinates;\n              let coords = {\n                y: coordinates[1],\n                x: coordinates[0],\n              };\n              setCoords(coords);\n              console.log(\"Selected parcel: \", d.features[0]);\n              setParcelData(d.features[0]);\n              setLoadScreen(false);\n            }\n            else {\n              console.log('Parcel not found')\n              setParcelData(null)\n              setLoadScreen(false)\n            }\n          })\n  }, [parcel]);\n\n  return (\n    <section className={`m-1`}>\n      {parcelData ? (\n        <>\n            <table className=\"bg-det-gray mb-1\" style={{ position: 'sticky', top: 0}}>\n              <thead>\n                <tr className=\"\">\n                  <td>Parcel ID: {parcelData.attributes.parcel_number}</td>\n                  <td>\n                    Address: <b>{parcelData.attributes.address}</b>\n                  </td>\n                </tr>\n              </thead>\n            </table>\n          <DetailsTable parcelData={parcelData.attributes} parcelApiData={parcelApiData} mobile={mobile} />\n        </>\n      ) : (\n        <>\n        <div className=\"p-2 text-lg\">\n          We couldn't find information for this parcel: {parcel}\n        </div>\n        {children}\n        </>\n      )}\n    </section>\n  );\n};\n\nexport default Details;\n","import React from \"react\";\n\nimport logo from \"../img/logo.png\";\nimport {HeaderButton} from './HeaderButton';\nimport { faGlobe, faInfoCircle, faSearch, faStreetView } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Header = ({ showSearch, setSearch, showInfo, setInfo, showSv, setSv, showSatellite, setSatellite, mobile, children }) => {\n  return (\n    <header>\n      <div className=\"flex items-center mx-1 mb-1\">\n        <img src={logo} className=\"h-12\" />\n        <h1 className=\"text-xl w-full ml-2\">Parcel Viewer</h1>\n      </div>\n      <div className=\"flex items-center justify-end mb-1\">\n        <HeaderButton icon={faInfoCircle} active={showInfo} onClick={() => {setInfo(!showInfo)}}/>\n        <HeaderButton icon={faSearch} active={showSearch} onClick={() => {setSearch(!showSearch)}}/>\n        <HeaderButton icon={faStreetView} active={showSv} onClick={() => {setSv(!showSv)}}/>\n        <HeaderButton icon={faGlobe} active={showSatellite} onClick={() => {setSatellite(!showSatellite)}}/>\n      </div>\n      {/* {mobile &&\n        <div className=\"flex items-center mr-3\">\n          <img src={logo} className=\"h-12\" />\n          <h1 className=\"text-xl w-full mx-2\">Parcel Viewer</h1>\n          <HeaderButton icon={faInfoCircle} active={showInfo} onClick={() => {setInfo(!showInfo)}}/>\n          <HeaderButton icon={faSearch} active={showSearch} onClick={() => {setSearch(!showSearch)}}/>\n        </div>\n      } */}\n      <section className=\"pl-1 panels-area\">\n        {children}\n      </section>\n    </header>\n  );\n};\nexport default Header;\n","import {\n  faCalendarAlt,\n  faGlobe,\n  faMapMarked,\n  faStreetView,\n  faWindowClose,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\n\nimport { HeaderButton } from \"./HeaderButton\";\n\nconst IntroPara = ({ children }) => {\n  return <p className=\"py-2 text-sm\">{children}</p>;\n};\n\nconst Introduction = ({ setInfo, showInfo }) => {\n  return (\n    <section className=\"details introduction px-2 py-2 bg-det-gray bg-opacity-50 rounded overflow-y-auto\">\n      <div className=\"flex items-center align-top justify-between\">\n        <h1 className=\"text-lg\">Welcome to the new Parcel Viewer</h1>\n        <HeaderButton\n          icon={faWindowClose}\n          onClick={() => {\n            localStorage.setItem(\"showInfo\", false);\n            setInfo(!showInfo);\n          }}\n        />\n      </div>\n      <IntroPara>\n        You can use this application to look up information about parcels in the\n        City of Detroit.\n      </IntroPara>\n      <IntroPara>You can find information about parcels in two ways:</IntroPara>\n      <ul className=\"list-disc list-inside ml-2 py-2 text-sm\">\n        <li>\n          <b>Search</b>\n          <FontAwesomeIcon icon={faSearch} className=\"mx-2\" />\n          for an address or parcel ID using the search box above\n        </li>\n        <li>\n          Click a parcel on the <b>map</b>\n          <FontAwesomeIcon icon={faMapMarked} className=\"mx-2\" />\n        </li>\n      </ul>\n      <IntroPara>\n        You can see the latest <b>Street View</b>\n        <FontAwesomeIcon icon={faStreetView} className=\"mx-2\" />\n        imagery for the parcel you selected:\n      </IntroPara>\n      <ul className=\"list-disc list-inside ml-2 py-2 text-sm\">\n        <li>\n          Switch between different imagery <b>capture dates</b>\n          <FontAwesomeIcon icon={faCalendarAlt} className=\"mx-2\" />\n          using the date picker\n        </li>\n      </ul>\n      <IntroPara>\n        You can also switch the map baselayer to <b>satellite imagery</b>\n        <FontAwesomeIcon icon={faGlobe} className=\"mx-2\" />\n      </IntroPara>\n      <IntroPara>\n        Do you have questions or comments about this tool? Tell us using our{\" \"}\n        <a\n          href=\"https://airtable.com/shrInZsfyRoJvq8GJ\"\n          className=\"underline text-gray-700 hover:text-blue-600\"\n        >\n          feedback form\n        </a>{\" \"}\n        or please open a{\" \"}\n        <a\n          href=\"https://github.com/CityOfDetroit/parcel-viewer/issues\"\n          className=\"underline text-gray-700 hover:text-blue-600\"\n        >\n          GitHub issue\n        </a>\n        .\n      </IntroPara>\n      <button className=\"underline text-gray-700 hover:text-blue-600\">\n        View full disclaimer\n      </button>\n    </section>\n  );\n};\n\nexport default Introduction;\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\n\nconst MapTitle = ({ icon, children }) => (\n  <div className=\"flex items-center mr-2\">\n    <FontAwesomeIcon icon={icon} className=\"mx-2 text-md\" />\n    <h2 className=\"border-none font-light text-md\">{children}</h2>\n  </div>\n);\n\nconst MapTitleSection = ({ children }) => (\n  <div className=\"bg-det-light-green flex items-center py-1 px-1 justify-between z-40 absolute w-full leading-none\">{children}</div>\n);\n\nexport { MapTitleSection, MapTitle };\n","import { faExchangeAlt, faMapMarked } from \"@fortawesome/free-solid-svg-icons\";\nimport mapboxgl from \"mapbox-gl\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport mapStyle from \"../style.json\";\nimport satMapStyle from \"../satstyle.json\";\nimport videoIcon from \"../img/video.png\";\n\nimport { MapTitle, MapTitleSection } from \"./MapHeader\";\n\nconst Map = ({\n  parcel,\n  setParcel,\n  coords,\n  width,\n  height,\n  children,\n  svCoords,\n  svBearing,\n  showSv,\n  showSatellite,\n}) => {\n  const [theMap, setTheMap] = useState(null);\n  let history = useHistory();\n\n  let [xMin, yMin, xMax, yMax] = [-83.237803, 42.355192, -82.910451, 42.45023];\n  let xCenter = (xMin + xMax) / 2;\n  let yCenter = (yMin + yMax) / 2;\n\n  useEffect(() => {\n    var map = new mapboxgl.Map({\n      container: \"map\", // container id\n      style: showSatellite ? satMapStyle : mapStyle, // stylesheet location\n      center: coords ? [coords.y, coords.x] : [xCenter, yCenter], // starting position [lng, lat]\n      zoom: 11, // starting zoom\n    });\n\n    map.addControl(\n      new mapboxgl.NavigationControl({\n        showCompass: false,\n      }),\n      \"bottom-left\"\n    );\n\n    // Add geolocate control to the map.\n    map.addControl(\n      new mapboxgl.GeolocateControl({\n        positionOptions: {\n          enableHighAccuracy: true,\n        },\n        trackUserLocation: true,\n      }),\n      \"bottom-left\"\n    );\n    map.resize();\n\n    map.on(\"load\", () => {\n      setTheMap(map);\n      map.on(\"click\", \"parcels-fill\", function (e) {\n        let results = map.queryRenderedFeatures(e.point, {\n          layers: [\"parcels-fill\"],\n        });\n        console.log(results);\n\n        // Subsequent clicks on the same shape cycle between overlapping parcels.\n        setParcel((currentParcel) => {\n          const parcels = results.map((p) => p.properties.parcel_number);\n          const currentIndex = parcels.findIndex(\n            (candidateParcel) => candidateParcel === currentParcel\n          );\n          const nextIndex = (currentIndex + 1) % results.length;\n          const nextParcel = parcels[nextIndex];\n\n          history.push(`/${nextParcel}/`);\n          return nextParcel;\n        });\n\n        // setCoords(e.lngLat);\n      });\n    });\n\n    map.on(\"style.load\", () => {\n      map.loadImage(videoIcon, (error, image) => {\n        if (error) throw error;\n        map.addImage(\"video\", image);\n        map.setFilter(\"parcels-highlight\", [\n          \"==\",\n          \"parcel_number\",\n          parcel ? parcel : \"\",\n        ]);\n        svCoords &&\n          map.getSource(\"mapillary\").setData({\n            type: \"FeatureCollection\",\n            // we'll make the map data here\n            features: [\n              {\n                type: \"Feature\",\n                geometry: {\n                  type: \"Point\",\n                  coordinates: [svCoords.lon, svCoords.lat],\n                },\n                properties: {\n                  bearing: svBearing - 90,\n                },\n              },\n            ],\n          });\n      });\n    });\n  }, []);\n\n  useEffect(() => {\n    if (theMap && showSatellite) {\n      theMap.setStyle(satMapStyle);\n    }\n    if (theMap && !showSatellite) {\n      theMap.setStyle(mapStyle);\n    }\n  }, [showSatellite]);\n\n  //Highlight active parcel\n  useEffect(() => {\n    theMap &&\n      theMap.setFilter(\"parcels-highlight\", [\n        \"==\",\n        \"parcel_number\",\n        parcel ? parcel : \"\",\n      ]);\n  }, [parcel, theMap]);\n\n  //Highlight active parcel\n  useEffect(() => {\n    theMap && coords && theMap.easeTo({center: [coords.x, coords.y], zoom: 17 });\n  }, [coords, theMap]);\n\n  useEffect(() => {\n    theMap && theMap.resize();\n  }, [width, height]);\n\n  useEffect(() => {\n    if (theMap && showSv) {\n      theMap.setLayoutProperty(\"mapillary-location\", \"visibility\", \"visible\");\n    }\n    if (theMap && !showSv) {\n      theMap.setLayoutProperty(\"mapillary-location\", \"visibility\", \"none\");\n    }\n  }, [showSv]);\n\n  useEffect(() => {\n    console.log(svCoords, svBearing);\n    theMap &&\n      showSv &&\n      theMap.getSource(\"mapillary\").setData({\n        type: \"FeatureCollection\",\n        // we'll make the map data here\n        features: [\n          {\n            type: \"Feature\",\n            geometry: {\n              type: \"Point\",\n              coordinates: [svCoords.lon, svCoords.lat],\n            },\n            properties: {\n              bearing: svBearing - 90,\n            },\n          },\n        ],\n      });\n    if (theMap && !showSv) {\n      theMap.getSource(\"mapillary\").setData({\n        type: \"FeatureCollection\",\n        features: [],\n      });\n    }\n  }, [svCoords, svBearing]);\n\n  return (\n    <section id=\"map\" className={`map-view mx-1 mt-1 rounded`}>\n      <MapTitleSection>\n        <MapTitle icon={faMapMarked}>Map</MapTitle>\n        {children}\n      </MapTitleSection>\n    </section>\n  );\n};\n\nexport default Map;\n","import { faCalendar, faCalendarAlt, faStreetView } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport bearing from \"@turf/bearing\";\nimport * as Mapillary from \"mapillary-js\";\nimport moment from \"moment\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { MapTitle, MapTitleSection } from \"./MapHeader\";\n\nlet clientid = \"bmZxVGc0ODVBVXhZVk5FTDdyeHlhZzowM2EyODU0Njc4OWY3ZGNi\";\n\n/**\n * Wrap a value on the interval [min, max].\n */\nfunction wrap(value, min, max) {\n  var interval = max - min;\n\n  while (value > max || value < min) {\n    if (value > max) {\n      value = value - interval;\n    } else if (value < min) {\n      value = value + interval;\n    }\n  }\n\n  return value;\n}\n\n/**\n * Convert a desired bearing to a basic X image coordinate for\n * a specific node bearing.\n *\n * Works only for a full 360 panorama.\n */\nfunction bearingToBasic(desiredBearing, nodeBearing) {\n  // 1. Take difference of desired bearing and node bearing in degrees.\n  // 2. Scale to basic coordinates.\n  // 3. Add 0.5 because node bearing corresponds to the center\n  //    of the image. See\n  //    https://mapillary.github.io/mapillary-js/classes/viewer.html\n  //    for explanation of the basic coordinate system of an image.\n  var basic = (desiredBearing - nodeBearing) / 360 + 0.5;\n\n  // Wrap to a valid basic coordinate (on the [0, 1] interval).\n  // Needed when difference between desired bearing and node\n  // bearing is more than 180 degrees.\n  return wrap(basic, 0, 1);\n}\n\n/**\n * Function to set the mapillary viewer's center by computing bearing\n */\nfunction setBearing(node, mly, start, end) {\n  if (!node.fullPano) {\n    // We are only interested in setting the bearing for full 360 panoramas.\n    return;\n  }\n  var nodeBearing = node.computedCA; // Computed node compass angle (equivalent\n  // to bearing) is used by mjs when placing\n  // the node in 3D space.\n\n  // compute this with @turf/bearing\n  var desiredBearing = bearing(start, end); // Your desired bearing.\n  var basicX = bearingToBasic(desiredBearing, nodeBearing);\n  var basicY = 0.45; // tilt slightly up\n\n  var center = [basicX, basicY];\n\n  mly.setCenter(center);\n}\n\n/**\n * Promise-returning function to fetch a new Mapillary imageKey based on some coordinates\n */\nconst fetchImageKey = (coords) => {\n  let lnglat;\n  if (coords.lng && coords.lat) {\n    lnglat = `${coords.lng},${coords.lat}`;\n  }\n  if (coords.x && coords.y) {\n    lnglat = `${coords.x},${coords.y}`;\n  }\n  let url = `https://a.mapillary.com/v3/images?client_id=${clientid}&closeto=${lnglat}&radius=80&usernames=codgis&start_time=2018-07-01`;\n  return fetch(url).then((r) => r.json());\n};\n\nlet markerStyle = {\n  ballColor: \"white\",\n  ballOpacity: 0.5,\n  color: \"#feb70d\",\n  opacity: 0.55,\n  interactive: false,\n  radius: 2,\n};\n\nconst StreetView = ({ coords, width, height, setSvBearing, setSvCoords, children }) => {\n  // local state to store the mapillary viewer\n  const [mapillary, setMapillary] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [currentCoords, setCurrentCoords] = useState(null);\n  const [currentKey, setCurrentKey] = useState(null);\n  const [imageKeys, setImageKeys] = useState(null);\n\n  // show full streetview on click of streetview button\n  useEffect(() => {\n    let mapillaryView = new Mapillary.Viewer(\"mly\", clientid, null, {\n      component: {\n        cover: true,\n        marker: true,\n        sequence: false,\n        cache: true,\n        attribution: false,\n        // direction: true\n      },\n    });\n\n    setMapillary(mapillaryView);\n\n    mapillaryView.on(\"nodechanged\", (n) => {\n      setSvCoords(n.latLon);\n    });\n\n    mapillaryView.on(\"bearingchanged\", (b) => {\n      setSvBearing(b);\n    });\n\n    if (coords !== currentCoords) {\n      setCurrentCoords(coords);\n      fetchImageKey(coords).then((d) => {\n        let sequences = [];\n        d.features.forEach((ik) => {\n          if (sequences.map((s) => s.properties.captured_at.slice(0, 10)).indexOf(ik.properties.captured_at.slice(0, 10)) === -1) {\n            sequences.push(ik);\n          }\n        });\n        let sorted = sequences.sort((a, b) => moment(a.properties.captured_at) - moment(b.properties.captured_at));\n        setImageKeys(sorted);\n        setCurrentKey(sorted[sorted.length - 1]);\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    setLoading(true);\n    mapillary &&\n      currentKey &&\n      mapillary.moveToKey(currentKey.properties.key).then((node) => {\n        setBearing(node, mapillary, currentKey.geometry.coordinates, [coords.lng || coords.x, coords.lat || coords.y]);\n        setLoading(false);\n      });\n  }, [currentKey, mapillary]);\n\n  useEffect(() => {\n    if (mapillary) {\n      setLoading(true);\n      setImageKeys(null);\n      let defaultMarker = new Mapillary.MarkerComponent.SimpleMarker(\"default-id\", { lat: coords.y, lon: coords.x }, markerStyle);\n      let markerComponent = mapillary.getComponent(\"marker\");\n      markerComponent.add([defaultMarker]);\n      fetchImageKey(coords).then((d) => {\n        let sequences = [];\n        d.features.forEach((ik) => {\n          if (sequences.map((s) => s.properties.captured_at.slice(0, 10)).indexOf(ik.properties.captured_at.slice(0, 10)) === -1) {\n            sequences.push(ik);\n          }\n        });\n        let sorted = sequences.sort((a, b) => moment(a.properties.captured_at) - moment(b.properties.captured_at));\n        setImageKeys(sorted);\n        setCurrentKey(sorted[sorted.length - 1]);\n      });\n    }\n  }, [coords, mapillary]);\n\n  useEffect(() => {\n    if (mapillary) {\n      mapillary.resize();\n    }\n  }, [width, height]);\n\n  return (\n    <section id=\"mly\" className=\"street-view mx-1 mt-1 rounded\">\n      <MapTitleSection>\n        <MapTitle icon={faStreetView}>{loading ? `Loading imagery...` : `Street view`}</MapTitle>\n        {imageKeys && currentKey && (\n          <div className=\"flex items-center\">\n            <FontAwesomeIcon icon={faCalendarAlt} className=\"text-md mr-2\" />\n            <select\n              className=\"block appearance-none text-xs mr-3 px-2 py-1 bg-det-gray border border-gray-200 text-gray-700 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n              value={moment(currentKey.properties.captured_at).format(\"ll\")}\n              onChange={(e) => {\n                setCurrentKey(imageKeys.filter((s) => moment(s.properties.captured_at).format(\"ll\") === e.target.value)[0]);\n              }}\n            >\n              {imageKeys.map((s, i) => (\n                <option key={s.properties.key}>{moment(s.properties.captured_at).format(\"ll\")}</option>\n              ))}\n            </select>\n            {children}\n          </div>\n        )}\n      </MapTitleSection>\n    </section>\n  );\n};\n\nexport default StreetView;\n","import \"./css/app.css\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport AddressSearch from \"./components/AddressSearch.js\";\nimport Details from \"./components/Details\";\nimport Header from \"./components/Header\";\nimport Introduction from \"./components/Introduction\";\nimport Map from \"./components/Map\";\nimport StreetView from \"./components/StreetView\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {faGithub} from '@fortawesome/free-brands-svg-icons'\nimport { faExclamationTriangle } from \"@fortawesome/free-solid-svg-icons\";\nimport Disclaimer from \"./components/Disclaimer.js\";\n\nconst SidebarFooter = () => {\n  return (\n    <div className=\"px-2 flex justify-between items-center bg-det-gray text-sm\" style={{gridArea: 'f'}}>\n      <span>City of Detroit, {new Date().getFullYear()}. <a href=\"https://airtable.com/shrInZsfyRoJvq8GJ\" className=\"underline text-gray-700 hover:text-blue-600\">feedback form</a></span>\n      <a href=\"https://www.github.com/CityOfDetroit/parcel-viewer/\"><FontAwesomeIcon icon={faGithub} /></a>\n    </div>\n  )\n}\n\nconst SiteRetired = ({ parcel }) => { \n  \n  let newRootUrl = `https://base-unit-tools.netlify.app/`\n\n  return (\n  <div className=\"px-4 py-4 font-semibold bg-red-400 text-sm\" style={{background: 'rgba(200,20,20,0.9)', padding: '10px', color: 'white', fontWeight: 500}}>\n  <h3 style={{borderBottom: 'none', marginBottom: '1em'}}>\n    <FontAwesomeIcon icon={faExclamationTriangle} className=\"mr-2\" />\n    This tool will soon be retired! \n  </h3>\n  <p className=\"font-normal\" style={{margin: '.5em 0'}}>\n    Please migrate to the <a href={`${newRootUrl}/map?id=${parcel}&type=parcels&layers=parcels&basemap=satellite`} className=\"underline\">Base Unit Tools site</a> for parcel information, and change your bookmarks.\n  </p>\n  \n  <p className=\"font-normal\" style={{margin: '.5em 0'}}>\n  The <b>new URL</b> for the page you are currently viewing is:\n  </p>\n  \n  <p style={{margin: '1em 0 .5em 0', background: 'rgb(230,230,230)', padding: '.5em', color: 'blue'}} className=\"w-full font-mono\">\n    <a href={`${newRootUrl}/parcel-viewer?id=${parcel}&type=parcels&basemap=satellite`} className=\"underline text-xs font-thin\">https://base-unit-tools.netlify.app/parcel-viewer?id={parcel}&type=parcels&basemap=satellite</a>\n  </p>\n</div>\n)}\n\nconst ParcelExplorer = () => {\n  // get the parcel ID from the URL\n  let { pid } = useParams();\n\n  // screen size hooks: we need to change behavior for mobile/etc\n  const breakpoint = 640;\n  const [width, setWidth] = useState(window.innerWidth);\n  const [height, setHeight] = useState(window.innerHeight);\n  const [mobile, setMobile] = useState(width < breakpoint);\n\n  // app state\n  const [parcel, setParcel] = useState(pid ? pid : null);\n  const [coords, setCoords] = useState(null);\n  const [map, setMap] = useState(true);\n  const [showSv, setSv] = useState(false);\n  const [svCoords, setSvCoords] = useState(null);\n  const [svBearing, setSvBearing] = useState(null);\n  const [showInfo, setInfo] = useState(localStorage.getItem(\"showInfo\") || false);\n  const [showSearch, setSearch] = useState(mobile ? false : true)\n  const [showSatellite, setSatellite] = useState(true)\n\n  // Roll our own media-query hook:\n  useEffect(() => {\n    const handleWindowResize = () => {\n      setWidth(window.innerWidth);\n      setHeight(window.innerHeight);\n      setMobile(window.innerWidth < breakpoint);\n    };\n    window.addEventListener(\"resize\", handleWindowResize);\n    return () => window.removeEventListener(\"resize\", handleWindowResize);\n  }, []);\n\n  let [disclaimed, setDisclaimed] = useState(localStorage.getItem(\"disclaimed\") || false);\n  let [intro, setIntro] = useState(localStorage.getItem(\"intro\") || false);\n\n  return (\n    // !disclaimed ? <Disclaimer {...{setDisclaimed}} /> : \n    <div className={!mobile ? \"App\" : \"MobileApp\"}>\n      <Header {...{setSearch, showSearch, showInfo, setInfo, setParcel, showSv, setSv, showSatellite, setSatellite, mobile}}>\n        {/* {parcel && <SiteRetired parcel={parcel} />} */}\n        {showInfo && <Introduction {...{setInfo, showInfo, disclaimed, setDisclaimed}}/>}\n        {showSearch && <AddressSearch {...{ parcel, setParcel, setCoords, setSearch, showSearch }} />}\n      </Header>\n      <div id=\"sidebar\">\n      {showSv && (\n        <StreetView {...{ coords, width, height, setSvBearing, setSvCoords }} />\n        )}\n        {parcel && <Details {...{ parcel, setCoords, mobile }} />}\n      </div>\n      <SidebarFooter />\n      <div className=\"map-view\">\n      {((mobile && map) || !mobile) && (\n        <Map {...{ parcel, setParcel, width, coords, svCoords, svBearing, showSv, showSatellite }} />\n        )}\n\n      </div>\n    </div>\n  );\n};\n\nexport default ParcelExplorer;\n ","import React, {} from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport Analytics from 'react-router-ga';\nimport ParcelExplorer from './ParcelExplorer';\n\nconst trackingId = 'UA-107915075-6'\n\nexport default function App() {\n  return (\n\n    <Router basename='/parcel-viewer'>\n          <Analytics id={trackingId} debug>\n\n        {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n        <Switch>\n          <Route path=\"/:pid\" children={<ParcelExplorer />} />\n          <Route path=\"/\">\n            <ParcelExplorer />\n          </Route>\n        </Switch>\n        </Analytics>\n    </Router>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import \"./tailwind.output.css\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}